# 保护模式

OceanBase 数据库提供了三种保护模式：最大性能，最大保护和最大可用，并且支持三种保护模式之间的切换。

## 最大性能（Maximum Performance）

这是默认的保护模式。它在最大限度地确保主集群性能的同时，还能保护用户的数据。在这种保护模式下，事务只需要等 REDO 日志在主集群持久化成功就可以立即提交。REDO 日志会异步的同步到备集群，但是不会阻塞主集群事务提交。因此，主集群的性能不会受备集群的同步延时影响。

## 最大保护（Maximum Protection）

这种保护模式提供了最高级别的数据保护，可以确保主集群出现故障时不会发生数据丢失。在这种保护模式下，事务需要等 REDO 日志在主集群和强同步的备集群上都持久化成功才能提交。

最大保护模式下只支持配置一个强同步的备集群，其他备集群只能处于异步同步模式。如果强同步的备集群不可用，主集群会停止写服务。

## 最大可用（Maximum Availability）

这种保护模式在不牺牲集群可用性的前提下提供了最高级别的数据保护。默认情况下，事务要等 REDO 日志在主集群和强同步的备集群上都持久化成功才能提交。当感知到强同步的备集群出现故障时，主集群不再等日志强同步成功，和最大性能一样优先恢复主集群服务，保证集群可用性。直到强同步的备集群恢复服务，主集群会自动恢复为强同步模式，提供最高级别的数据保护。

最大可用模式下只支持配置一个强同步的备集群，其他备集群只能处于异步同步模式。

# 创建表组

## 表组简介

表组是一个逻辑概念，它描述的是表的一个集合。对于分布式数据库, 多个表中的数据可能会分布在不同的机器上, 故在执行 Join 查询或跨表事务等复杂操作时就需要涉及跨机器的通信，而表组功能可以避免这种跨机器操作，从而提高数据库性能。

在 OceanBase 数据库中，表组分为分区表表组和非分区表表组：

* 分区表表组用于存放分区表。分区表表组的 Locality（包括副本类型、个数和位置）和 Primary Zone 信息（包括 Leader 位置和优先级）必须与表组内的表完全一致。

* 非分区表表组用于存放非分区表。

更多表组的介绍，请参见 [表组](参见系统架构文档)。

## 创建表组前准备

在创建表组前，您需要确认以下事项：

* 请确认您已连接到数据库的 MySQL 租户，连接数据库的操作请参见 [连接数据库](../../1.application-development-based-on-mysql-mode/1.database-connection/1.connection-mode-overview.md)。
  
  >**说明**
  >
  >当前登录租户所属的租户模式可以由 `sys` 租户通过查询 `oceanbase.DBA_OB_TENANTS` 视图进行确认。

* 请确认您已拥有 CREATE 权限，查看当前用户权限的相关操作请参见 [查看用户权限](7.reference\3.user-guide-old\6.basic-database-management\4.manage-tenants-1\5.manage-users-and-permissions\3.mysql-3\4.view-user-permissions-1.md)。如果不具备该权限，请联系管理员为您授权，用户授权的相关操作请参见 [修改用户权限](7.reference\3.user-guide-old\6.basic-database-management\4.manage-tenants-1\5.manage-users-and-permissions\3.mysql-3\5.modify-user-permissions-2.md)。

## 创建表组

请使用 [CREATE TABLEGROUP](../../../7.reference/4.development-guide-refactoring-1-old/6.sql-syntax/2.common-tenant-mysql-mode/6.sql-statement/17.create-tablegroup.md) 语句创建表组。然后根据表组创建建议，参考本文的示例来完成表组的创建。

## 表组创建建议

* 如果租户的 `unit_num=1` 且 Primary Zone 只有一个 Zone，则不需要创建表组。

* 在 OceanBase 数据库中，表组的名称必须保证租户内唯一。

* 创建表组时，首先要规划好表组的用途。如果是用于非分区表的属性，则表组不用分区；如果是用于分区表的属性，则表组需要指定分区策略，并且要与分区表的分区策略保持一致。
  
* 创建分区表表组时，表组需要与表具备相同的分区方式，具体要求如下：
  
  * 分区类型相同（例如，都是 Hash + Range 分区）。

  * 如果是 Key 分区，要求引用的列数相同，且分区个数相同。

  * 如果是 Hash 分区，要求分区个数相同。

  * 如果是 Range Columns 分区，要求引用的列数相同，且分区数相同，且 RANGE 分割点相同。

  * 如果是 Range 分区，要求分区数相同，且 Range 分割点相同。

  * 如果是 List Columns 分区，要求引用的列数相同，且分区数相同，List Columns 分割点也相同。

  * 如果是 List 分区，要求分区数相同，且 List 分割点相同。

  * 对于二级分区，根据表的分区类型，其要求与上面一致。

## 示例

### 创建非分区表表组

创建非分区表表组，并查看创建后的表组信息。

```sql
obclient> CREATE TABLEGROUP tgn;
Query OK, 0 rows affected

obclient> SHOW TABLEGROUPS WHERE Tablegroup_name='tgn';
+-----------------+------------+---------------+
| Tablegroup_name | Table_name | Database_name |
+-----------------+------------+---------------+
| tgn             | NULL       | NULL          |
+-----------------+------------+---------------+
1 row in set

obclient> SHOW CREATE Tablegroup tgn\G
*************************** 1. row ***************************
    Tablegroup: tgn
Create Tablegroup: CREATE TABLEGROUP IF NOT EXISTS `tgn`  BINDING = FALSE
   partition by hash partitions 10
1 row in set
```

## 创建一级分区表表组

* 创建 Range 分区的表组。

  ```sql
  obclient> CREATE TABLEGROUP tR18 PARTITION BY RANGE
              (PARTITION p0 VALUES LESS THAN(1970),
               PARTITION p1 VALUES LESS THAN(1971),
               PARTITION p2 VALUES LESS THAN(1972)
               );
  Query OK, 0 rows affected
  ```

* 创建 Lsit 分区的表组。

  ```sql
  obclient> CREATE TABLEGROUP tg1_l8 PARTITION BY LIST
              (PARTITION p0 VALUES IN (1),
              PARTITION p1 VALUES IN (2),
              PARTITION p2 VALUES IN (3)
             );
  Query OK, 0 rows affected
  ```

* 创建 Range Columns 分区的表组。

  ```sql
  obclient> CREATE TABLEGROUP tblgroup1 PARTITION BY RANGE COLUMNS 1 
              (PARTITION p0 VALUES LESS THAN(100),
               PARTITION p1 VALUES LESS THAN(200)
              );
  Query OK, 0 rows affected
  ```

* 创建 List Columns 分区的表组。

  ```sql
  obclient> CREATE TABLEGROUP tblgroup8 PARTITION BY LIST COLUMNS 1 
              (PARTITION p_northwest VALUES IN('OR', 'WA'),
               PARTITION p_southwest VALUES IN('AZ', 'UT', 'NM')
              );
  Query OK, 0 rows affected
  ```

* 创建 Hash 分区的表组。

  ```sql
  obclient> CREATE TABLEGROUP tg1_h PARTITION BY HASH PARTITIONS 10;
  Query OK, 0 rows affected
  ```

* 创建 Key 分区的表组。

  ```sql
  obclient> CREATE TABLEGROUP tblgroup1 PARTITION BY KEY 1 PARTITIONS 10;
  Query OK, 0 rows affected
  ```

### 创建非模板化二级分区表表组

* 创建 Range + Range 分区的非模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg1_rr01
              PARTITION BY RANGE
              SUBPARTITION BY RANGE
              (
              PARTITION p0 VALUES LESS THAN (100)
              (SUBPARTITION sp0 VALUES LESS THAN (2020)
              ,SUBPARTITION sp1 VALUES LESS THAN  (2021)
              ,SUBPARTITION sp2 VALUES LESS THAN (2022)
              ,SUBPARTITION sp3 VALUES LESS THAN  (2023)
              ),
              PARTITION p1 VALUES LESS THAN (200)
              (SUBPARTITION sp4 VALUES LESS THAN (2020)
              ,SUBPARTITION sp5 VALUES LESS THAN  (2021)
              ,SUBPARTITION sp6 VALUES LESS THAN (2022)
              ,SUBPARTITION sp7 VALUES LESS THAN  (2023))
              );
  Query OK, 0 rows affected
  ```

* 创建 Range + List 分区的非模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg2_f_rl02
              PARTITION BY RANGE
              SUBPARTITION BY LIST
              (PARTITION p0 VALUES LESS THAN (100)
              (SUBPARTITION sp0 VALUES IN (1),
              SUBPARTITION sp1 VALUES IN (2)
              ),
              PARTITION p1 VALUES LESS THAN (200)
              (SUBPARTITION sp2 VALUES IN (1),
               SUBPARTITION sp3 VALUES IN (2),
               SUBPARTITION sp4 VALUES IN (3)
               )
               );
  Query OK, 0 rows affected
  ```

* 创建 Range + Range Columns 分区的非模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg1_rrc03
              PARTITION BY RANGE
              SUBPARTITION BY RANGE COLUMNS 1
              (
              PARTITION p0 VALUES LESS THAN (100)
              (SUBPARTITION sp0 VALUES LESS THAN (2020)
              ,SUBPARTITION sp1 VALUES LESS THAN  (2021)
              ,SUBPARTITION sp2 VALUES LESS THAN (2022)
              ,SUBPARTITION sp3 VALUES LESS THAN  (2023)
              ),
              PARTITION p1 VALUES LESS THAN (200)
              (SUBPARTITION sp4 VALUES LESS THAN (2020)
              ,SUBPARTITION sp5 VALUES LESS THAN  (2021)
              ,SUBPARTITION sp6 VALUES LESS THAN (2022)
              ,SUBPARTITION sp7 VALUES LESS THAN  (2023))
              );
  Query OK, 0 rows affected
  ```

* 创建 Range + List Columns 分区的非模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg1_rlc04
              PARTITION BY RANGE
              SUBPARTITION BY List COLUMNS 1
              (
              PARTITION p0 VALUES LESS THAN (100)
              (SUBPARTITION sp0 VALUES LESS THAN (2020)
              ,SUBPARTITION sp1 VALUES LESS THAN  (2021)
              ,SUBPARTITION sp2 VALUES LESS THAN (2022)
              ,SUBPARTITION sp3 VALUES LESS THAN  (2023)
              ),
              PARTITION p1 VALUES LESS THAN (200)
              (SUBPARTITION sp4 VALUES LESS THAN (2020)
              ,SUBPARTITION sp5 VALUES LESS THAN  (2021)
              ,SUBPARTITION sp6 VALUES LESS THAN (2022)
              ,SUBPARTITION sp7 VALUES LESS THAN  (2023))
              );
  Query OK, 0 rows affected
  ```

* 创建 Range + Hash 分区的非模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg1_rh05
              PARTITION BY RANGE
              SUBPARTITION BY HASH  (
              PARTITION p0 VALUES LESS THAN (1990) (
              SUBPARTITION s0,
              SUBPARTITION s1
              ),
              PARTITION p1 VALUES LESS THAN (2000) (
              SUBPARTITION s2,
              SUBPARTITION s3
              ),
              PARTITION p2 VALUES LESS THAN (2010) (
              SUBPARTITION s4,
              SUBPARTITION s5
              )
              );
  Query OK, 0 rows affected
  ```

* 创建 Range + Key 分区的非模板化二级分区表表组。

  ```sql
  obclient>CREATE TABLEGROUP tg2_f_rk06
              PARTITION BY RANGE
              SUBPARTITION BY KEY 1
              (PARTITION p0 VALUES LESS THAN(100)
               (SUBPARTITION sp0,
               SUBPARTITION sp1,
               SUBPARTITION sp2
               ),
               PARTITION p1 VALUES LESS THAN(200)
               (SUBPARTITION sp3,
               SUBPARTITION sp4,
               SUBPARTITION sp5
               ),
               PARTITION p2 VALUES LESS THAN(300)
              (SUBPARTITION sp6,
              SUBPARTITION sp7,
              SUBPARTITION sp8
               )
              );
  Query OK, 0 rows affected
  ```

* 创建 Range Columns + Range 分区的非模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg1_rcr07
              PARTITION BY RANGE COLUMNS 1
              SUBPARTITION BY RANGE
              (PARTITION p0 VALUES LESS THAN (100)
              (SUBPARTITION sp0 VALUES LESS THAN (2020),
              SUBPARTITION sp1 VALUES LESS THAN  (2021),
              SUBPARTITION sp2 VALUES LESS THAN (2022),
              SUBPARTITION sp3 VALUES LESS THAN  (2023)
              ),
              PARTITION p1 VALUES LESS THAN (200)
              (SUBPARTITION sp4 VALUES LESS THAN (2020),
              SUBPARTITION sp5 VALUES LESS THAN  (2021),
              SUBPARTITION sp6 VALUES LESS THAN (2022),
              SUBPARTITION sp7 VALUES LESS THAN  (2023)
              )
            );
  Query OK, 0 rows affected
  ```

* 创建 Range Columns + Range Columns 分区的非模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg1_rr08
              PARTITION BY RANGE COLUMNS 1
              SUBPARTITION BY RANGE COLUMNS 1
              (PARTITION p0 VALUES LESS THAN (100)
              (SUBPARTITION sp0 VALUES LESS THAN (2020),
              SUBPARTITION sp1 VALUES LESS THAN  (2021),
              SUBPARTITION sp2 VALUES LESS THAN (2022),
              SUBPARTITION sp3 VALUES LESS THAN  (2023)
              ),
              PARTITION p1 VALUES LESS THAN (200)
              (SUBPARTITION sp4 VALUES LESS THAN (2020),
              SUBPARTITION sp5 VALUES LESS THAN  (2021),
              SUBPARTITION sp6 VALUES LESS THAN (2022),
              SUBPARTITION sp7 VALUES LESS THAN  (2023)
              )
            );
  Query OK, 0 rows affected
  ```

* 创建 Range Columns + List 分区的非模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg2_f_rcl09
              PARTITION BY RANGE COLUMNS 1
              SUBPARTITION BY LIST
              (PARTITION p0 VALUES LESS THAN (100)
              (SUBPARTITION sp0 VALUES IN (1),
              SUBPARTITION sp1 VALUES IN (2)
              ),
             PARTITION p1 VALUES LESS THAN (200)
             (SUBPARTITION sp2 VALUES IN (1),
              SUBPARTITION sp3 VALUES IN (2),
              SUBPARTITION sp4 VALUES IN (3)
               )
               );
  Query OK, 0 rows affected
  ```

* 创建 Range Columns + List Columns 分区的非模板化二级分区表表组。

  ```sql
  obclient>CREATE TABLEGROUP tg1_rclc10
              PARTITION BY RANGE COLUMNS 1
              SUBPARTITION BY LIST COLUMNS 2
              (PARTITION p0 VALUES LESS THAN (100)
                (SUBPARTITION sp0 VALUES IN (('US',1),('US',2)),
                 SUBPARTITION sp1 VALUES IN  (('CN',1),('CN',2))
                ),
               PARTITION p1 VALUES LESS THAN (200)
                (SUBPARTITION sp3 VALUES IN (('US',1),('US',2)),
                 SUBPARTITION sp4 VALUES IN  (('CN',1),('CN',2))
                )
              );
  Query OK, 0 rows affected
  ```

* 创建 Range Columns + Hash 分区的非模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg1_rch11
              PARTITION BY RANGE COLUMNS 1
              SUBPARTITION BY HASH  (
              PARTITION p0 VALUES LESS THAN (1990) (
              SUBPARTITION s0,
              SUBPARTITION s1
              ),
              PARTITION p1 VALUES LESS THAN (2000) (
              SUBPARTITION s2,
              SUBPARTITION s3
              ),
              PARTITION p2 VALUES LESS THAN (2010) (
              SUBPARTITION s4,
              SUBPARTITION s5
              )
              );
  Query OK, 0 rows affected
  ```

* 创建 Range Columns + Key 分区的非模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg1_rch12
              PARTITION BY RANGE COLUMNS 1
              SUBPARTITION BY KEY 1(
              PARTITION p0 VALUES LESS THAN (1990) (
              SUBPARTITION s0,
              SUBPARTITION s1
              ),
              PARTITION p1 VALUES LESS THAN (2000) (
              SUBPARTITION s2,
              SUBPARTITION s3
              ),
              PARTITION p2 VALUES LESS THAN (2010) (
              SUBPARTITION s4,
              SUBPARTITION s5
              )
              );
  Query OK, 0 rows affected
  ```

* 创建 List Columns + Range 分区的非模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg1_lcr13
              PARTITION BY LIST COLUMNS 1
              SUBPARTITION BY RANGE
              (PARTITION p0 VALUES IN (1,2,3)
                ( SUBPARTITION sp0 VALUES LESS THAN (2020)
                , SUBPARTITION sp1 VALUES LESS THAN (2021)
                , SUBPARTITION sp2 VALUES LESS THAN (2022)
                , SUBPARTITION sp3 VALUES LESS THAN (2023)
                ),
               PARTITION p1 VALUES IN (4,5,6)
                ( SUBPARTITION sp4 VALUES LESS THAN (2020)
                , SUBPARTITION sp5 VALUES LESS THAN (2021)
                , SUBPARTITION sp6 VALUES LESS THAN (2022)
                , SUBPARTITION sp7 VALUES LESS THAN (2023)
                )
              );
  Query OK, 0 rows affected
  ```

* 创建 List Columns + Range Columns 分区的非模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg1_lrc14
              PARTITION BY LIST COLUMNS 1
              SUBPARTITION BY RANGE COLUMNS 1
              (PARTITION p0 VALUES IN (1,2,3)
                ( SUBPARTITION sp0 VALUES LESS THAN (2020)
                , SUBPARTITION sp1 VALUES LESS THAN (2021)
                , SUBPARTITION sp2 VALUES LESS THAN (2022)
                , SUBPARTITION sp3 VALUES LESS THAN (2023)
                ),
               PARTITION p1 VALUES IN (4,5,6)
                ( SUBPARTITION sp4 VALUES LESS THAN (2020)
                , SUBPARTITION sp5 VALUES LESS THAN (2021)
                , SUBPARTITION sp6 VALUES LESS THAN (2022)
                , SUBPARTITION sp7 VALUES LESS THAN (2023)
                )
              );
  Query OK, 0 rows affected
  ```

* 创建 List Columns + List 分区的非模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg1_lcl15
              PARTITION BY LIST COLUMNS 1
              SUBPARTITION BY LIST
              (PARTITION p0 VALUES IN (1,2,3)
              ( SUBPARTITION sp0 VALUES IN (2020)
              , SUBPARTITION sp1 VALUES IN (2021)
              , SUBPARTITION sp2 VALUES IN (2022)
              , SUBPARTITION sp3 VALUES IN (2023)
               ),
               PARTITION p1 VALUES IN (4,5,6)
               ( SUBPARTITION sp4 VALUES IN (2020)
                , SUBPARTITION sp5 VALUES IN (2021)
                , SUBPARTITION sp6 VALUES IN (2022)
                , SUBPARTITION sp7 VALUES IN (2023)
                )
                );
  Query OK, 0 rows affected
  ```

* 创建 List Columns + List Columns 分区的非模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg1_lclc16
              PARTITION BY LIST COLUMNS 1
              SUBPARTITION BY LIST COLUMNS 1
              (PARTITION p0 VALUES IN (1,2,3)
               ( SUBPARTITION sp0 VALUES IN (2020)
               , SUBPARTITION sp1 VALUES IN (2021)
               , SUBPARTITION sp2 VALUES IN (2022)
               , SUBPARTITION sp3 VALUES IN (2023)
               ),
               PARTITION p1 VALUES IN (4,5,6)
               ( SUBPARTITION sp4 VALUES IN (2020)
               , SUBPARTITION sp5 VALUES IN (2021)
               , SUBPARTITION sp6 VALUES IN (2022)
               , SUBPARTITION sp7 VALUES IN (2023)
               )
              );
  Query OK, 0 rows affected
  ```

* 创建 List Columns + Hash 分区的非模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg1_lch17
              PARTITION BY LIST COLUMNS 1
              SUBPARTITION BY HASH
              (PARTITION p_northwest VALUES IN('OR', 'WA')
                (SUBPARTITION sp0,
                 SUBPARTITION sp1
                 ),
               PARTITION p_southwest VALUES IN('AZ', 'UT', 'NM')
                (SUBPARTITION sp2,
                 SUBPARTITION sp3
                 )
            );
  Query OK, 0 rows affected
  ```

* 创建 List Columns + Key 分区的非模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg1_lck18
              PARTITION BY LIST COLUMNS 1
              SUBPARTITION BY KEY 1
              (PARTITION p_northwest VALUES IN('OR', 'WA')
              (SUBPARTITION sp0,
               SUBPARTITION sp1
               ),
               PARTITION p_southwest VALUES IN('AZ', 'UT', 'NM')
               (SUBPARTITION sp2,
               SUBPARTITION sp3
               )
               );
  Query OK, 0 rows affected
  ```

### 创建模板化二级分区表组

* 创建 Range + Range 分区的模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg2_m_rr01
              PARTITION BY RANGE
              SUBPARTITION BY RANGE
              SUBPARTITION TEMPLATE
              (SUBPARTITION mp0 VALUES LESS THAN (1970),
               SUBPARTITION mp1 VALUES LESS THAN (1972),
               SUBPARTITION mp2 VALUES LESS THAN (1973)
               )
               (PARTITION p0 VALUES LESS THAN (100),
                PARTITION p1 VALUES LESS THAN (200)
               );
  Query OK, 0 rows affected
  ```

* 创建 Range + List 分区的模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg2_m_rl02
              PARTITION BY RANGE
              SUBPARTITION BY LIST
              SUBPARTITION TEMPLATE
             (SUBPARTITION mp0 VALUES IN(01),
              SUBPARTITION mp1 VALUES IN(02),
              SUBPARTITION mp2 VALUES IN(03)
               )
               (PARTITION p0 VALUES LESS THAN (100),
                PARTITION p1 VALUES LESS THAN (200)
               );
  Query OK, 0 rows affected 
  ```

* 创建 Range + Range Columns 分区的模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg2_m_rrc03
              PARTITION BY RANGE
              SUBPARTITION BY RANGE COLUMNS 1
              SUBPARTITION TEMPLATE
              (SUBPARTITION mp0 VALUES LESS THAN (1970),
               SUBPARTITION mp1 VALUES LESS THAN (1972),
               SUBPARTITION mp2 VALUES LESS THAN (1973)
               )
               (PARTITION p0 VALUES LESS THAN (100),
                PARTITION p1 VALUES LESS THAN (200)
               );
  Query OK, 0 rows affected
  ```

* 创建 Range + List Columns 分区的模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg2_m_rlc04
              PARTITION BY RANGE
              SUBPARTITION BY LIST COLUMNS 1
              SUBPARTITION TEMPLATE
             (SUBPARTITION mp0 VALUES IN(01),
                SUBPARTITION mp1 VALUES IN(02),
                SUBPARTITION mp2 VALUES IN(03)
               )
               (PARTITION p0 VALUES LESS THAN (100),
                PARTITION p1 VALUES LESS THAN (200)
               );
  Query OK, 0 rows affected 
  ```

* 创建 Range + Hash 分区的模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg2_m_rh05
              PARTITION BY RANGE
              SUBPARTITION BY HASH SUBPARTITIONS 5
              (PARTITION p0 VALUES LESS THAN(100),
              PARTITION p1 VALUES LESS THAN(200),
              PARTITION p2 VALUES LESS THAN(300)
              );
  Query OK, 0 rows affected
  ```

* 创建 Range + Key 分区的模板化二级分区表表组。

  ```sql
  obclient>CREATE TABLEGROUP tg2_m_rck06
              PARTITION BY RANGE
              SUBPARTITION BY KEY 1 SUBPARTITIONS 3
              (PARTITION p0 VALUES LESS THAN(100),
               PARTITION p1 VALUES LESS THAN(200),
               PARTITION p2 VALUES LESS THAN(300)
              );
  Query OK, 0 rows affected
  ```

* 创建 Range Columns + Range 分区的模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg2_m_rcr07
               PARTITION BY RANGE COLUMNS 1
               SUBPARTITION BY RANGE
               SUBPARTITION TEMPLATE
               (SUBPARTITION mp0 VALUES LESS THAN(2019),
                SUBPARTITION mp1 VALUES LESS THAN(2020),
                SUBPARTITION mp2 VALUES LESS THAN(2021)
               )
               (PARTITION p0 VALUES LESS THAN(100),
                PARTITION p1 VALUES LESS THAN(200),
                PARTITION p2 VALUES LESS THAN(300)
               );
  Query OK, 0 rows affected
  ```

* 创建 Range Columns + Range Columns 分区的模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg2_m_rcrc08
          PARTITION BY RANGE COLUMNS 1
          SUBPARTITION BY RANGE COLUMNS 1
          SUBPARTITION TEMPLATE 
          (SUBPARTITION mp0 VALUES LESS THAN(2019),
           SUBPARTITION mp1 VALUES LESS THAN(2020),
           SUBPARTITION mp2 VALUES LESS THAN(2021)
          )
          (PARTITION p0 VALUES LESS THAN(100),
           PARTITION p1 VALUES LESS THAN(200),
           PARTITION p2 VALUES LESS THAN(300)
          ); 
  Query OK, 0 rows affected
  ```

* 创建 Range Columns + List 分区的模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg2_m_rcl09
              PARTITION BY RANGE COLUMNS 1
              SUBPARTITION BY LIST
              SUBPARTITION TEMPLATE
              (SUBPARTITION mp0 VALUES IN(01),
              SUBPARTITION mp1 VALUES IN(02),
              SUBPARTITION mp2 VALUES IN(03)
              )
             (PARTITION p0 VALUES LESS THAN(100),
              PARTITION p1 VALUES LESS THAN(200),
              PARTITION p2 VALUES LESS THAN(300)
             );
  Query OK, 0 rows affected
  ```

* 创建 Range Columns + List Columns 分区的模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg2_m_rclc10
         PARTITION BY RANGE COLUMNS 1
         SUBPARTITION BY LIST COLUMNS 1
         SUBPARTITION TEMPLATE 
         (SUBPARTITION mp0 VALUES IN('A','B'),
          SUBPARTITION mp1 VALUES IN('C','D'),
          SUBPARTITION mp2 VALUES IN('E','F')
         )
         (PARTITION p0 VALUES LESS THAN(100),
          PARTITION p1 VALUES LESS THAN(200),
          PARTITION p2 VALUES LESS THAN(300)
         ); 
  Query OK, 0 rows affected
  ```

* 创建 Range Columns + Hash 分区的模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg2_m_rch11
              PARTITION BY RANGE COLUMNS 1
              SUBPARTITION BY HASH SUBPARTITIONS 5
              (PARTITION p0 VALUES LESS THAN(100),
              PARTITION p1 VALUES LESS THAN(200),
              PARTITION p2 VALUES LESS THAN(300)
              );
  Query OK, 0 rows affected
  ```

* 创建 Range Columns + Key 分区的模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg2_m_rck12
         PARTITION BY RANGE COLUMNS 1
         SUBPARTITION BY KEY 1 SUBPARTITIONS 3
         (PARTITION p0 VALUES LESS THAN(100),
          PARTITION p1 VALUES LESS THAN(200),
          PARTITION p2 VALUES LESS THAN(300)
         ); 
  Query OK, 0 rows affected
  ```

* 创建 List + Range 分区的模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg1_lr13
              PARTITION BY LIST
              SUBPARTITION BY RANGE
              (PARTITION p0 VALUES IN (1,2,3)
              ( SUBPARTITION sp0 VALUES LESS THAN (2020)
               , SUBPARTITION sp1 VALUES LESS THAN (2021)
               , SUBPARTITION sp2 VALUES LESS THAN (2022)
               , SUBPARTITION sp3 VALUES LESS THAN (2023)
                ),
               PARTITION p1 VALUES IN (4,5,6)
               ( SUBPARTITION sp4 VALUES LESS THAN (2020)
                , SUBPARTITION sp5 VALUES LESS THAN (2021)
                , SUBPARTITION sp6 VALUES LESS THAN (2022)
                , SUBPARTITION sp7 VALUES LESS THAN (2023)
                 )
                );
    Query OK, 0 rows affected
  ```

* 创建 List + Range Columns 分区的模板化二级分区表表组。

  ```sql
  obclient>CREATE TABLEGROUP tg1_lrc14
             PARTITION BY LIST
             SUBPARTITION BY RANGE COLUMNS 1
             (PARTITION p0 VALUES IN (1,2,3)
             ( SUBPARTITION sp0 VALUES LESS THAN (2020)
             , SUBPARTITION sp1 VALUES LESS THAN (2021)
             , SUBPARTITION sp2 VALUES LESS THAN (2022)
             , SUBPARTITION sp3 VALUES LESS THAN (2023)
             ),
             PARTITION p1 VALUES IN (4,5,6)
             ( SUBPARTITION sp4 VALUES LESS THAN (2020)
             , SUBPARTITION sp5 VALUES LESS THAN (2021)
             , SUBPARTITION sp6 VALUES LESS THAN (2022)
             , SUBPARTITION sp7 VALUES LESS THAN (2023)
             )
             );
  Query OK, 0 rows affected
  ```

* 创建 List + List 分区的模板化二级分区表表组。

  ```sql
  obclient>  CREATE TABLEGROUP tg2_m_ll15
              PARTITION BY LIST
              SUBPARTITION BY LIST
              SUBPARTITION TEMPLATE
              (SUBPARTITION mp0 VALUES IN(04),
               SUBPARTITION mp1 VALUES IN(05),
               SUBPARTITION mp2 VALUES IN(06)
              )
              (PARTITION p0 VALUES IN(01),
               PARTITION p1 VALUES IN(02),
               PARTITION p2 VALUES IN(03)
             );
  Query OK, 0 rows affected
  ```

* 创建 List + List Columns 分区的模板化二级分区表表组。

  ```sql
  obclient>  CREATE TABLEGROUP tg2_m_llc16
               PARTITION BY LIST
               SUBPARTITION BY LIST COLUMNS 1
               SUBPARTITION TEMPLATE
               (SUBPARTITION mp0 VALUES IN('A','B'),
               SUBPARTITION mp1 VALUES IN('C','D'),
               SUBPARTITION mp2 VALUES IN('E','F')
               )
               (PARTITION p0 VALUES IN(01),
                PARTITION p1 VALUES IN(02),
                PARTITION p2 VALUES IN(03)
               );
  Query OK, 0 rows affected
  ```

* 创建 List + Key 分区的模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg2_m_lk17
              PARTITION BY LIST COLUMNS 1
              SUBPARTITION BY KEY 6 SUBPARTITIONS 5
              (PARTITION p0 VALUES IN(01),
               PARTITION p1 VALUES IN(03),
               PARTITION p2 VALUES IN(05)
              );
  Query OK, 0 rows affected
  ```

* 创建 List + Hash 分区的模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg2_m_lh18
              PARTITION BY LIST COLUMNS 1
              SUBPARTITION BY HASH SUBPARTITIONS 5
              (PARTITION p0 VALUES IN(01),
               PARTITION p1 VALUES IN(03),
               PARTITION p2 VALUES IN(05)
              );
  Query OK, 0 rows affected
  ```

* 创建 List Columns + Range 分区的模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg2_m_lcr19
                  PARTITION BY LIST COLUMNS 1
                  SUBPARTITION BY RANGE
                  SUBPARTITION TEMPLATE
                  (SUBPARTITION mp0 VALUES LESS THAN(100),
                  SUBPARTITION mp1 VALUES LESS THAN(200),
                  SUBPARTITION mp2 VALUES LESS THAN(300)
                  )
                 (PARTITION p0 VALUES IN('A','B'),
                  PARTITION p1 VALUES IN('C','D'),
                 PARTITION p2 VALUES IN('E','F')
                 );
  Query OK, 0 rows affected
  ```

* 创建 List Columns + Range Columns 分区的模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg2_m_lcrc20
             PARTITION BY LIST COLUMNS 1
             SUBPARTITION BY RANGE COLUMNS 1
             SUBPARTITION TEMPLATE 
             (SUBPARTITION mp0 VALUES LESS THAN(100),
             SUBPARTITION mp1 VALUES LESS THAN(200),
             SUBPARTITION mp2 VALUES LESS THAN(300)
             )
            (PARTITION p0 VALUES IN('A','B'),
             PARTITION p1 VALUES IN('C','D'),
            PARTITION p2 VALUES IN('E','F')
            );
  Query OK, 0 rows affected
  ```

* 创建 List Columns + List 分区的模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg2_m_lcl21
              PARTITION BY LIST COLUMNS 1
              SUBPARTITION BY LIST
              SUBPARTITION TEMPLATE
              (SUBPARTITION mp0 VALUES IN(04),
              SUBPARTITION mp1 VALUES IN(05),
              SUBPARTITION mp2 VALUES IN(06)
              )
              (PARTITION p0 VALUES IN(01),
               PARTITION p1 VALUES IN(02),
               PARTITION p2 VALUES IN(03)
               );
  Query OK, 0 rows affected
  ```

* 创建 List Columns + List Columns 分区的模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg2_m_lclc22
              PARTITION BY LIST COLUMNS 1
              SUBPARTITION BY LIST COLUMNS 1
              SUBPARTITION TEMPLATE 
              (SUBPARTITION mp0 VALUES IN('A','B'),
              SUBPARTITION mp1 VALUES IN('C','D'),
              SUBPARTITION mp2 VALUES IN('E','F')
              )
             (PARTITION p0 VALUES IN('01','02'),
             PARTITION p1 VALUES IN('03','04'),
             PARTITION p2 VALUES IN('05','06')
             ); 
  Query OK, 0 rows affected
  ```

* 创建 List Columns + Hash 分区的模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg2_m_lch23
              PARTITION BY LIST COLUMNS 1
              SUBPARTITION BY HASH SUBPARTITIONS 5
              (PARTITION p0 VALUES IN('01','02'),
              PARTITION p1 VALUES IN('03','04'),
              PARTITION p2 VALUES IN('05','06')
              ); 
  Query OK, 0 rows affected
  ```

* 创建 List Columns + Key 分区的模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg2_m_lck24
              PARTITION BY LIST COLUMNS 1
              SUBPARTITION BY KEY 1 SUBPARTITIONS 5 
              (PARTITION p0 VALUES IN('01','02'),
              PARTITION p1 VALUES IN('03','04'),
              PARTITION p2 VALUES IN('05','06')
              ); 
  Query OK, 0 rows affected
  ```

* 创建 Key + Range 分区的模板化二级分区表表组。

  ```sql
  obclient>CREATE TABLEGROUP tg2_m_kr25
              PARTITION BY  KEY 1
              SUBPARTITION BY RANGE
              SUBPARTITION TEMPLATE
              (SUBPARTITION p0 VALUES LESS THAN(100),
              SUBPARTITION p1 VALUES LESS THAN(200),
              SUBPARTITION  p2 VALUES LESS THAN(300)
              )
              PARTITIONS 5;
  Query OK, 0 rows affected 
  ```

* 创建 Key + Range Columns 分区的模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg2_m_krc26
              PARTITION BY KEY 1
              SUBPARTITION BY RANGE COLUMNS 1
              SUBPARTITION TEMPLATE
              (SUBPARTITION p0 VALUES LESS THAN(100),
              SUBPARTITION  p1 VALUES LESS THAN(200),
              SUBPARTITION  p2 VALUES LESS THAN(300)
              );
  Query OK, 0 rows affected
  ```

* 创建 Key + List 分区的模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg2_m_kl27
               PARTITION BY KEY 1
               SUBPARTITION BY LIST
               SUBPARTITION TEMPLATE
               (SUBPARTITION mp0 VALUES IN(01),
               SUBPARTITION mp1 VALUES IN(02),
               SUBPARTITION mp2 VALUES IN(03)
               )
               PARTITIONS 6;
  Query OK, 0 rows affected
  ```

* 创建 Key + List Columns 分区的模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg2_m_klc28
            PARTITION BY KEY 1
            SUBPARTITION BY LIST COLUMNS 1
            SUBPARTITION TEMPLATE
             (SUBPARTITION mp0 VALUES IN('A','B'),
             SUBPARTITION mp1 VALUES IN('C','D'),
              SUBPARTITION mp2 VALUES IN('E','F')
              )
              PARTITIONS 6;
  Query OK, 0 rows affected
  ```

* 创建 Hash + Range 分区的模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg2_m_hr29
              PARTITION BY Hash
              SUBPARTITION BY RANGE
              SUBPARTITION TEMPLATE
              (SUBPARTITION p0 VALUES LESS THAN(100),
               SUBPARTITION p1 VALUES LESS THAN(200),
               SUBPARTITION  p2 VALUES LESS THAN(300)
               )
               PARTITIONS 6;
  Query OK, 0 rows affected
  ```

* 创建 Hash + Range Columns 分区的模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg2_m_hrc30
              PARTITION BY  Hash
              SUBPARTITION BY RANGE Columns 1
              SUBPARTITION TEMPLATE
              (SUBPARTITION p0 VALUES LESS THAN(100),
              SUBPARTITION p1 VALUES LESS THAN(200),
              SUBPARTITION  p2 VALUES LESS THAN(300)
              )
            PARTITIONS 6;
  Query OK, 0 rows affected
  ```

* 创建 Hash + List 分区的模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg2_m_hl31
              PARTITION BY  Hash
              SUBPARTITION BY LIST
              SUBPARTITION TEMPLATE
              (SUBPARTITION mp0 VALUES IN(01),
              SUBPARTITION mp1 VALUES IN(02),
              SUBPARTITION mp2 VALUES IN(03)
              )
              PARTITIONS 6;
  Query OK, 0 rows affected
  ```

* 创建 Hash + List Columns 分区的模板化二级分区表表组。

  ```sql
  obclient> CREATE TABLEGROUP tg2_m_hlc32
              PARTITION BY Hash
              SUBPARTITION BY LIST
              SUBPARTITION TEMPLATE
              (SUBPARTITION mp0 VALUES IN(01),
              SUBPARTITION mp1 VALUES IN(02),
              SUBPARTITION mp2 VALUES IN(03)
              )
              PARTITIONS 6;
  Query OK, 0 rows affected 
  ```

## 相关阅读

表组创建后，可以将具有相同分布特征的表加入到表组，也可以修改表组的 Locality 和 Primary Zone。对于分区表表组，还可以对表组中的表进行分区管理操作，详细操作可以参见以下章节：

* [非分区表加入表组]()

* [分区表加入表组]()

* [修改表组的 Locality 和 Primary Zone]()

* [分区管理操作]()

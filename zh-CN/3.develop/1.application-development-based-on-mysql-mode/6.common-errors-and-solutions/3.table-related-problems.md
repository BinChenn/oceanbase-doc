# 表相关问题

本文主要介绍表相关问题的报错信息和处理方法。

## 表已存在

在创建表时未添加 `IF NOT EXISTS` 关键字，如果创建的表已存在，则系统会报错。

### 报错信息

例如，创建 `student` 表时，系统报错，显示表已存在。

```sql
obclient> CREATE TABLE student(
     id int ,
     name varchar(18),
     sex char(1),
     age int,
     address varchar(200),
       email varchar(100),
      date date,
      PRIMARY KEY (id)
       );
ERROR 1050 (42S01): Table 'student' already exists
```

该报错信息对应的错误码信息如下：

* OceanBase 错误码：5020

* 兼容 MySQL 错误码：1050

## 处理方法

1. 查看数据库中该表是否已存在。例如：

   ```sql
   obclient> SHOW TABLES;
   +----------------+
   | Tables_in_test |
   +----------------+
   | student        |
   +----------------+
   1 row in set
   ```

2. 如果存在重名的表，您可以将已存在的表重命名后再重新创建表。

   例如，将原 `student` 表改为 `t_stu` 表。

   ```sql
   obclient> ALTER TABLE student RENAME TO t_stu;
   Query OK, 0 rows affected
   ```

   > **说明**
   >
   > 如果经确认该表真的不需要了，也可以使用 `DROP TABLE` 语句将该表删除后再重新创建表。

## 表不存在

在进行表操作时，如果待操作的表不存在，系统会报错。

### 报错信息

例如，查询 `student` 表时，显示表不存在。

```sql
obclient> desc student;
ERROR 1146 (42S02): Table 'test.student' doesn't exist
```

该报错信息 `ERROR 1146` 对应的错误码信息如下：

* OceanBase 错误码：5019

* 兼容 MySQL 错误码：1146

### 处理方法

1. 确认当前数据库中该表是否存在。例如：

   ```sql
   obclient> SHOW TABLES;
   +----------------+
   | Tables_in_test |
   +----------------+
   | ordr           |
   +----------------+
   1 row in set
   ```

2. 确认表不存在时，可以通过 `CREATE TABLE` 来创建需要的表。例如：

   ```sql
   CREATE TABLE student(
   id int,
   name varchar(18),
   sex char(1),
    age int,
    address varchar(200),
     email varchar(100),
    date date,
    PRIMARY KEY (id)
     );
   ```

3. 查询需要的表。

   ```sql
   obclient> desc student;
   +---------+--------------+------+-----+---------+-------+
   | Field   | Type         | Null | Key | Default | Extra |
   +---------+--------------+------+-----+---------+-------+
   | id      | int(11)      | NO   | PRI | NULL    |       |
   | name    | varchar(18)  | YES  |     | NULL    |       |
   | sex     | char(1)      | YES  |     | NULL    |       |
   | age     | int(11)      | YES  |     | NULL    |       |
   | address | varchar(200) | YES  |     | NULL    |       |
   | email   | varchar(100) | YES  |     | NULL    |       |
   | date    | date         | YES  |     | NULL    |       |
   +---------+--------------+------+-----+---------+-------+
   7 rows in set

## 相关阅读

创建表相关的更多操作及说明请参见 [创建表](../2.design-a-database-object/3.create-a-table.md)。

表相关的操作及说明请参见 [管理表](7.reference\2.manage-guide\3.database-object-management-1\2.mysql-4\2.manage-tables-2\1.about-tables-2.md)。

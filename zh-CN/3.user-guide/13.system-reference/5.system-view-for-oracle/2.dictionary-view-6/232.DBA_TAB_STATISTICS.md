# DBA_TAB_STATISTICS
## 功能
展示数据库中所有表的优化器统计信息。
## 字段说明

| 字段名称 | 类型 | 是否可以为 NULL | 描述 |
| --- | --- | --- | --- |
| OWNER | VARCHAR2(128) | NO | 对象的所有者 |
| TABLE_NAME | VARCHAR2(128) | NO | 表名 |
| PARTITION_NAME | VARCHAR2(128) | NO | 分区名称 |
| PARTITION_POSITION | NUMBER | NO | 分区在表中的位置 |
| SUBPARTITION_NAME | VARCHAR2(128) | NO | 子分区的名称 |
| SUBPARTITION_POSITION | NUMBER | NO | 子分区在分区内的位置 |
| OBJECT_TYPE | VARCHAR2(12) | NO | 对象类型：<li>TABLE<li>PARTITION<li>SUBPARTITION |
| NUM_ROWS | NUMBER | NO | 对象中的行数 |
| BLOCKS | NUMBER | NO | 对象中使用的块数 |
| EMPTY_BLOCKS | NUMBER | NO | 对象中的空块数 |
| AVG_SPACE | NUMBER | NO | 对象中的平均可用空间 |
| CHAIN_CNT | NUMBER | NO | 对象中的链接行数 |
| AVG_ROW_LEN | NUMBER | NO | 平均行长度，包括行开销 |
| AVG_SPACE_FREELIST_BLOCKS | NUMBER | NO | FREELIST 上所有块的平均可用空间 |
| NUM_FREELIST_BLOCKS | NUMBER | NO | FREELIST 上的块数 |
| AVG_CACHED_BLOCKS | NUMBER | NO | 缓冲区缓存中的平均块数 |
| AVG_CACHE_HIT_RATIO | NUMBER | NO | 对象的平均缓存命中率 |
| IM_IMCU_COUNT | NUMBER | NO | 表中内存压缩单元（IMCU）的数量 |
| IM_BLOCK_COUNT | NUMBER | NO | 表中的 In-Memory 块数 |
| IM_STAT_UPDATE_TIME | TIMESTAMP(9) | NO | 内存中统计信息的最近更新的时间戳 |
| SCAN_RATE | NUMBER | NO | 对象的扫描速率（以兆字节/秒为单位） |
| SAMPLE_SIZE | NUMBER | NO | 用于分析表格的样本量 |
| LAST_ANALYZED | DATE | NO | 最近一次分析表的日期 |
| GLOBAL_STATS | VARCHAR2(3) | NO | 指示统计信息是否被收集或增量维护：<li>YES<li>NO |
| USER_STATS | VARCHAR2(3) | NO | 指示统计信息是否由用户直接输入：<li>YES<li>NO |
| STATTYPE_LOCKED | VARCHAR2(5) | NO | 统计锁类型：<li>DATA<li>CACHE<li>ALL |
| STALE_STATS | VARCHAR2(3) | NO | 描述统计信息的一些附加属性。例如： 的值STATS_ON_CONVENTIONAL_LOAD表示该统计数据是通过常规 DML 的在线统计数据收集获得的 |
| SCOPE | VARCHAR2(7) | NO | 该值用于在除全局临时表之外的任何表上收集的统计信息<br>对于全局临时表，可能的值为：<li>SESSION：表示统计信息是特定于会话的<li>SHARED：表示统计信息在所有会话中共享 |

# DBA_TAB_COL_STATISTICS
## 功能
展示从 DBA_TAB_COLUMNS 视图中提取的列统计信息和直方图信息。
## 字段说明

| 字段名称 | 类型 | 是否可以为 NULL | 描述 |
| --- | --- | --- | --- |
| OWNER | VARCHAR2(128) | NO | 表的所有者 |
| TABLE_NAME | VARCHAR2(128) | NO | 表名 |
| COLUMN_NAME | VARCHAR2(128) | NO | 列名 |
| NUM_DISTINCT | NUMBER | NO | 列中不同值的数量 |
| LOW_VALUE | VARCHAR2(128) | NO | 列中的低值 |
| HIGH_VALUE | VARCHAR2(128) | NO | 列中的高值 |
| DENSITY | NUMBER | NO | 如果直方图在 COLUMN_NAME 上可用，则此列显示跨越直方图中少于 2 个端点的值的选择性。它不代表跨越 2 个或更多端点的值的选择性。如果直方图在 COLUMN_NAME 上不可用，则此列的值为 1/ NUM_DISTINCT |
| NUM_NULLS | NUMBER | NO | 列中的 NULL 数 |
| NUM_BUCKETS | NUMBER | NO | 列的直方图中的桶数 |
| LAST_ANALYZED | DATE | NO | 最近分析此列的日期 |
| SAMPLE_SIZE | NUMBER | NO | 用于分析此列的样本量 |
| GLOBAL_STATS | VARCHAR2(3) | NO | 指示统计信息是否被收集或增量维护：<li>YES<li>NO |
| USER_STATS | VARCHAR2(3) | NO | 指示统计信息是否由用户直接输入：<li>YES<li>NO |
| NOTES | VARCHAR2(80) | NO | 描述统计信息的一些附加属性：<li>INCREMENTAL：表示全局统计信息来自概要，即全局统计信息是增量维护的<li>STATS_ON_CONVENTIONAL_LOAD：表示统计数据是通过常规 DML 的在线统计数据收集获得的 |
| AVG_COL_LEN | NUMBER | NO | 列的平均长度（以字节为单位） |
| HISTOGRAM | VARCHAR2(15) | NO | 指示直方图的类型：<li>NONE<li>FREQUENCY<li>HEIGHT BALANCED<li>HYBRID<li>TOP-FREQUENCY |
| SCOPE | VARCHAR2(7) | NO | 该值用于在除全局临时表之外的任何表上收集的统计信息<br>对于全局临时表，可能的值为：<li>SESSION：表示统计信息是特定于会话的<li>SHARED：表示统计信息在所有会话中共享 |

# DBA_PART_COL_STATISTICS/oceanbase.DBA_SUBPART_COL_STATISTICS/DBA_SUBPART_COL_STATISTICS
## 功能
oceanbase.DBA_PART_COL_STATISTICS/DBA_PART_COL_STATISTICS 展示数据库中所有分区表的列统计信息和直方图信息。
oceanbase.DBA_SUBPART_COL_STATISTICS/DBA_SUBPART_COL_STATISTICS 展示数据库中所有子分区表的列统计信息和直方图信息。
## 字段说明

| 字段名称 | 类型 | 是否可以为 NULL | 描述 |
| --- | --- | --- | --- |
| OWNER | VARCHAR2(128) | NO | 分区表的所有者 |
| TABLE_NAME | VARCHAR2(128) | NO | 表名 |
| 
- PARTITION_NAME
- SUBPARTITION_NAME
 | VARCHAR2(128) | NO | 
- PARTITION_NAME：分区表名称
- SUBPARTITION_NAME：子分区表名称
 |
| COLUMN_NAME | VARCHAR2(128) | NO | 列名 |
| NUM_DISTINCT | NUMBER | NO | 列中不同值的数量 |
| LOW_VALUE | VARCHAR2(128) | NO | 列中的低值 |
| HIGH_VALUE | VARCHAR2(128) | NO | 列中的高值 |
| DENSITY | NUMBER | NO | 如果直方图在 COLUMN_NAME 上可用，则此列显示跨越直方图中少于 2 个端点的值的选择性。它不代表跨越 2 个或更多端点的值的选择性。如果直方图在 COLUMN_NAME 上不可用，则此列的值为 1/ NUM_DISTINCT |
| NUM_NULLS | NUMBER | NO | 列中的 NULL 数 |
| NUM_BUCKETS | NUMBER | NO | 列的直方图中的桶数 |
| SAMPLE_SIZE | NUMBER | NO | 用于分析色谱柱的样本量 |
| LAST_ANALYZED | DATE | NO | 最近分析色谱柱的日期 |
| GLOBAL_STATS | VARCHAR2(3) | NO | 指示统计信息是否已收集：<li>YES：已收集<li>NO：已从子分区汇总或者未收集
SUB 指示统计信息是否已收集：<li>YES<li>NO |
| USER_STATS | VARCHAR2(3) | NO | 指示统计信息是否由用户直接输入：<li>YES<li>NO |
| NOTES | VARCHAR2(80) | NO | 描述统计信息的一些附加属性：<li>INCREMENTAL：表示该列有概要<li>INCREMENTAL(HLL)：表示该列具有概要，并且概要采用 hyperloglog 格式<li>INCREMENTAL(SAMPLING)：表示该列具有概要，并且概要采用自适应采样格式<br>此列可用于确定自适应采样格式的概要是否已完全淘汰并正确清除
SUB 描述统计信息的一些附加属性。例如：如果值为 INCREMENTAL，则全局统计信息来自概要，即：全局统计信息是增量维护的 |
| AVG_COL_LEN | NUMBER | NO | 列的平均长度（以字节为单位） |
| HISTOGRAM | VARCHAR2(15) | NO | 指示直方图的类型：<li>NONE<li>FREQUENCY<li>HEIGHT BALANCED<li>HYBRID<li>TOP-FREQUENCY |

# oceanbase.DBA_TAB_HISTOGRAMS/DBA_TAB_HISTOGRAMS
## 功能
展示数据库中所有表的列的直方图。
## 字段说明

| 字段名称 | 类型 | 是否可以为 NULL | 描述 |
| --- | --- | --- | --- |
| OWNER | VARCHAR2(128) | NO | 表的所有者 |
| TABLE_NAME | VARCHAR2(128) | NO | 表名 |
| COLUMN_NAME | VARCHAR2(128) | NO | 对象类型列的列名或属性 |
| ENDPOINT_NUMBER | NUMBER | NO | 直方图桶数 |
| ENDPOINT_VALUE | NUMBER | NO | 此存储桶的标准化端点值 |
| ENDPOINT_ACTUAL_VALUE | VARCHAR2(4000) | NO | 此存储桶端点的实际字符串值（非标准化） |
| ENDPOINT_ACTUAL_VALUE_RAW | VARCHAR2(4000) | NO | 原始格式的端点实际值 |
| ENDPOINT_REPEAT_COUNT | NUMBER | NO | 端点频率（只针对混合直方图，其他直方图类型设置为 0） |
| SCOPE | VARCHAR2(7) | NO | 该值用于在除全局临时表之外的任何表上收集的统计信息<br>对于全局临时表，可能的值为：<li>SESSION：表示统计信息是特定于会话的<li>SHARED：表示统计信息在所有会话中共享 |

# oceanbase.DBA_PART_HISTOGRAMS/DBA_PART_HISTOGRAMS/oceanbase.DBA_SUBPART_HISTOGRAMS/DBA_SUBPART_HISTOGRAMS
## 功能
oceanbase.DBA_PART_HISTOGRAMS/DBA_PART_HISTOGRAMS 展示数据库中所有分区表上的直方图数据（每个直方图的端点）。
oceanbase.DBA_SUBPART_HISTOGRAMS/DBA_SUBPART_HISTOGRAMS 展示数据库中所有子分区表上的直方图数据（每个直方图的端点）。
## 字段说明

| 字段名称 | 类型 | 是否可以为 NULL | 描述 |
| --- | --- | --- | --- |
| OWNER | VARCHAR2(128) | NO | 表的所有者 |
| TABLE_NAME | VARCHAR2(128) | NO | 表名 |
| 
- PARTITION_NAME
- SUBPARTITION_NAME
 | VARCHAR2(128) | NO | 
- PARTITION_NAME：分区表名称
- SUBPARTITION_NAME：子分区表名称
 |
| COLUMN_NAME | VARCHAR2(128) | NO | 列名 |
| ENDPOINT_NUMBER | NUMBER | NO | 直方图的桶号 |
| ENDPOINT_VALUE | NUMBER | NO | 存储桶的标准化端点值 |
| ENDPOINT_ACTUAL_VALUE | VARCHAR2(4000) | NO | 存储桶端点的实际字符串值（非标准化） |
| ENDPOINT_ACTUAL_VALUE_RAW | VARCHAR2(4000) | NO | 原始格式的端点实际值 |
| ENDPOINT_REPEAT_COUNT | NUMBER | NO | 端点频率（只针对混合直方图，其他直方图类型设置为 0） |

# oceanbase.DBA_TAB_STATS_HISTORY/DBA_TAB_STATS_HISTORY
## 功能
展示数据库中所有表的表统计历史记录。
## 字段说明

| 字段名称 | 类型 | 是否可以为 NULL | 描述 |
| --- | --- | --- | --- |
| OWNER | VARCHAR2(128) | NO | 对象的所有者 |
| TABLE_NAME | VARCHAR2(128) | NO | 表名 |
| PARTITION_NAME | VARCHAR2(128) | NO | 分区表名称 |
| SUBPARTITION_NAME | VARCHAR2(128) | NO | 子分区表的名称 |
| STATS_UPDATE_TIME | TIMESTAMP(6) WITH TIME ZONE | NO | 更新统计数据的时间 |

# oceanbase.DBA_SCHEDULER_JOBS/DBA_SCHEDULER_JOBS
## 功能
展示数据库中所有调度程序作业的信息。
## 字段说明

| 字段名称 | 类型 | 是否可以为 NULL | 描述 |
| --- | --- | --- | --- |
| OWNER | VARCHAR2(128) | NO | 调度程序作业的所有者 |
| JOB_NAME | VARCHAR2(128) | NO | 调度程序作业的名称 |
| INSTANCE_ID | NUMBER | YES | 用户请求作业在其上运行的实例 |
| STATE | VARCHAR2(15) | YES | 工作现状：<li>DISABLED<li>RETRY SCHEDULED<li>SCHEDULED<li>BLOCKED<li>RUNNING<li>COMPLETED<li>BROKEN<li>FAILED<li>REMOTE<li>RESOURCE_UNAVAILABLE<li>SUCCEEDED<li>CHAIN_STALLED |
| ENABLED | VARCHAR2(5) | YES | 指示作业是否启用：<li>TRUE<li>FALSE |
| NEXT_RUN_DATE | TIMESTAMP(6) WITH TIME ZONE | NO | 作业计划运行的下一个日期 |
| PROGRAM_NAME | VARCHAR2(4000) | YES | 与作业相关的程序名称 |
| LAST_START_DATE | TIMESTAMP(6) WITH TIME ZONE | YES | 作业开始运行的最后日期 |

# ALL_IND_STATISTICS/oceanbase.DBA_IND_STATISTICS/DBAER_IND_STATISTICS/USER_IND_STATISTICS
## 功能
ALL_IND_STATISTICS 展示当前用户可访问的表上的索引的优化器统计信息。
oceanbase.DBA_IND_STATISTICS/DBAER_IND_STATISTICS 展示数据库中所有索引的优化器统计信息。
USER_IND_STATISTICS 展示当前用户拥有的表的索引的优化器统计信息。
## 字段说明

| 字段名称 | 类型 | 是否可以为 NULL | 描述 |
| --- | --- | --- | --- |
| OWNER
ALL_IND_STATISTICS/DBA_IND_STATISTICS 存在该字段 | VARCHAR2(128) | NO | 索引所有者 |
| INDEX_NAME | VARCHAR2(128) | NO | 索引名称 |
| TABLE_OWNER | VARCHAR2(128) | NO | 索引对象的所有者 |
| TABLE_NAME | VARCHAR2(128) | NO | 索引对象的名称 |
| PARTITION_NAME | VARCHAR2(128) | NO | 分区名称 |
| PARTITION_POSITION | NUMBER | NO | 分区在索引中的位置 |
| SUBPARTITION_NAME | VARCHAR2(128) | NO | 子分区的名称 |
| SUBPARTITION_POSITION | NUMBER | NO | 子分区在分区内的位置 |
| OBJECT_TYPE | VARCHAR2(12) | NO | 对象类型：<li>INDEX<li>PARTITION<li>SUBPARTITION |
| BLEVEL | NUMBER | NO | B-Tree 级别 |
| LEAF_BLOCKS | NUMBER | NO | 索引中的叶块数 |
| DISTINCT_KEYS | NUMBER | NO | 索引中不同键的数量 |
| AVG_LEAF_BLOCKS_PER_KEY | NUMBER | NO | 每个键的平均叶块数 |
| AVG_DATA_BLOCKS_PER_KEY | NUMBER | NO | 每个键的平均数据块数 |
| CLUSTERING_FACTOR | NUMBER | NO | 指示基于索引值的表中行的顺序量：<li>如果该值接近块数，则该表的排序非常好。在这种情况下，单个叶块中的索引条目往往指向同一数据块中的行<li>如果该值接近行数，则表是非常随机排序的。在这种情况下，同一叶块中的索引条目不太可能指向同一数据块中的行 |
| NUM_ROWS | NUMBER | NO | 索引中的行数 |
| AVG_CACHED_BLOCKS | NUMBER | NO | 缓冲区缓存中的平均块数 |
| AVG_CACHE_HIT_RATIO | NUMBER | NO | 对象的平均缓存命中率 |
| SAMPLE_SIZE | NUMBER | NO | 用于分析索引的样本量 |
| LAST_ANALYZED | DATE | NO | 最近一次分析指数的日期 |
| GLOBAL_STATS | VARCHAR2(3) | NO | 指示统计信息是否被收集或增量维护：<li>YES<li>NO |
| USER_STATS | VARCHAR2(3) | NO | 指示统计信息是否由用户直接输入：<li>YES<li>NO |
| STATTYPE_LOCKED | VARCHAR2(5) | NO | 统计锁类型 |
| STALE_STATS | VARCHAR2(3) | NO | 对象的统计信息是否过时 |
| SCOPE | VARCHAR2(7) | NO | 该值用于在除全局临时表之外的任何表上收集的统计信息<br>对于全局临时表，可能的值为：<li>SESSION：表示统计信息是特定于会话的<li>SHARED：表示统计信息在所有会话中共享 |

# ALL_TAB_MODIFICATIONS/oceanbase.DBA_TAB_MODIFICATIONS/DBA_TAB_MODIFICATIONS/USER_TAB_MODIFICATIONS
## 功能
ALL_TAB_MODIFICATIONS 展示当前用户可访问的表的自上次在该表上收集统计信息以来的修改信息。
oceanbase.DBA_TAB_MODIFICATIONS/DBA_TAB_MODIFICATIONS 展示数据库中所有表的自上次在该表上收集统计信息以来的修改信息。
USER_TAB_MODIFICATIONS 展示当前用户拥有的表的自上次在该表上收集统计信息以来的修改信息。
## 字段说明

| 字段名称 | 类型 | 是否可以为 NULL | 描述 |
| --- | --- | --- | --- |
| TABLE_OWNER
ALL_/DBA_ 存在该字段 | VARCHAR2(128) | NO | 修改表的所有者 |
| TABLE_NAME | VARCHAR2(128) | NO | 修改表名 |
| PARTITION_NAME | VARCHAR2(128) | NO | 修改分区的名称 |
| SUBPARTITION_NAME | VARCHAR2(128) | NO | 修改子分区的名称 |
| INSERTS | NUMBER | NO | 自上次收集统计信息以来的大致插入次数 |
| UPDATES | NUMBER | NO | 自上次收集统计信息以来的大致更新次数 |
| DELETES | NUMBER | NO | 自上次收集统计信息以来的大致删除次数 |
| TIMESTAMP | DATE | NO | 表示上次修改表的时间 |
| TRUNCATED | VARCHAR2(3) | NO | 指示自上次分析以来表是否被截断 |
| DROP_SEGMENTS | NUMBER | NO | 自上次分析以来删除的分区和子分区段数 |

# GV$DML_STATS/V$DML_STATS
## 功能
展示当前用户表中的 DML 信息。
## 字段说明

| 字段名称 | 类型 | 是否可以为 NULL | 描述 |
| --- | --- | --- | --- |
| SVR_IP | VARCHAR2(46) | NO | 服务器 IP 地址 |
| SVR_PORT | NUMBER | NO | 服务器端口号 |
| INST_ID | NUMBER | NO | 租户 ID |
| OBJN | NUMBER | NO | 对象 ID |
| INS | NUMBER | NO | 自上次收集统计信息以来的大致插入次数 |
| UPD | NUMBER | NO | 自上次收集统计信息以来的大致更新次数 |
| DEL | NUMBER | NO | 自上次收集统计信息以来的大致删除次数 |
| DROPSEG | NUMBER | NO | 目前暂不支持该字段，且当前该字段默认为 NULL |
| CURROWS | NUMBER | NO | 目前暂不支持该字段，且当前该字段默认为 NULL |
| PAROBJN | NUMBER | NO | 目前暂不支持该字段，且当前该字段默认为 NULL |
| LASTUSED | NUMBER | NO | 目前暂不支持该字段，且当前该字段默认为 NULL |
| FLAGS | NUMBER | NO | 目前暂不支持该字段，且当前该字段默认为 NULL |
| CON_ID | NUMBER | NO | 目前暂不支持该字段，且当前该字段默认为 NULL |




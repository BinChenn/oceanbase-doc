查看备份进度 
===========================

执行备份后，您可以查看备份进度。

通过视图查看数据备份进度以及备份任务历史 
-----------------------------------------

1. 使用 `root` 用户登录数据库的 `sys` 租户。

   

2. 进入 `oceanbase` 数据库。

   ```sql
   obclient> USE oceanbase;
   ```

   

3. 进行以下操作：

   * 查看备份进度

     ```sql
     obclient> SELECT * FROM CDB_OB_BACKUP_PROGRESS;
     ```

     
   
   * 查看备份历史

     ```sql
     obclient> SELECT * FROM CDB_OB_BACKUP_SET_DETAILS;
     ```

     
   

   

   更多 `CDB_OB_BACKUP_PROGRESS` 和 `CDB_OB_BACKUP_SET_DETAILS` 视图的说明，请参见 [备份恢复相关视图](/zh-CN/6.administrator-guide/8.high-data-availability/2.backup-and-restoration-management/6.backup-and-recovery-related-views.md)。
   




通过视图查看日志的备份进度 
----------------------------------

1. 使用 `root` 用户登录数据库的 `sys` 租户。

   

2. 进入 `oceanbase` 数据库。

   ```sql
   obclient> use oceanbase;
   ```

   

3. 执行以下语句，查看日志的备份进度。

   ```sql
   obclient> SELECT * FROM CDB_OB_BACKUP_ARCHIVELOG;
   +-------------+-------------------+-----------+--------+----------------+-----------------+----------------------------+----------------------------+-------------+--------------+-------------------+---------------------+----------------------+
   | INCARNATION | LOG_ARCHIVE_ROUND | TENANT_ID | STATUS | START_PIECE_ID | BACKUP_PIECE_ID | MIN_FIRST_TIME             | MAX_NEXT_TIME              | INPUT_BYTES | OUTPUT_BYTES | COMPRESSION_RATIO | INPUT_BYTES_DISPLAY | OUTPUT_BYTES_DISPLAY |
   +-------------+-------------------+-----------+--------+----------------+-----------------+----------------------------+----------------------------+-------------+--------------+-------------------+---------------------+----------------------+
   |           1 |                 1 |         1 | DOING  |              1 |               1 | 2021-07-22 15:18:06.135913 | 2021-07-22 15:18:10.116704 |           0 |            0 |              NULL | 0.00MB              | 0.00MB               |
   |           1 |                 1 |      1001 | DOING  |              1 |               1 | 2021-07-22 15:18:06.135913 | 2021-07-22 15:18:10.483601 |           0 |            0 |              NULL | 0.00MB              | 0.00MB               |
   |           1 |                 1 |      1002 | DOING  |              1 |               1 | 2021-07-22 15:18:06.135913 | 2021-07-22 15:18:10.116704 |           0 |            0 |              NULL | 0.00MB              | 0.00MB               |
   +-------------+-------------------+-----------+--------+----------------+-----------------+----------------------------+----------------------------+-------------+--------------+-------------------+---------------------+----------------------+
   3 rows in set (0.00 sec)
   ```

   

   更多 `CDB_OB_BACKUP_ARCHIVELOG` 视图的说明，请参见 [备份恢复相关视图](/zh-CN/6.administrator-guide/8.high-data-availability/2.backup-and-restoration-management/6.backup-and-recovery-related-views.md)。
   




通过 OCP 查看备份进度 
----------------------------------

备份开始后，您可以在 OCP 上查看对应备份任务的进度。
**说明**



不同 OCP 版本的操作界面可能不同，本节以 OCP V3.1.0 版本为例提供操作指导，OCP 其他版本的操作请参考对应版本的《 OCP 用户指南》文档。

1. 登录 OCP。

   

2. 在左导航栏中单击 **备份恢复** **\>** **备份** 。

   

3. 分别在对应页面，查看备份进度。

   * 在 **数据备份任务** 页签中，找到对应的任务，查看目标数据备份任务的进度。

     可查看数据备份任务的 **ID** 、 **所属集群** 、 **租户** 、 **备份方式** 、 **数据备份方式** 、 **数据版本** 、 **开始时间** 、 **结束时间** 、 **存储目录** 和 **状态** 。
     
   
   * 在 **日志备份任务** 页签中，找到对应的任务，查看目标日志备份任务的进度。

     可查看日志备份任务的 **所属集群** 、 **备份方式** 、 **服务所属的主机 IP** 、 **最新备份时间点** 、 **延时** 、 **存储目录** 、 **开始时间** 和 **状态** 。
     
   

   




# 查看节点

OceanBase 数据库是单进程软件，进程名为 observer，通常每个机器启动一个进程就是一个节点（节点不完全等同于物理机器）。OBServer 是 OceanBase 数据库的服务器，observer 进程就运行在该服务器上。

## 操作步骤

1. 使用 `root` 用户登录到数据库的 `sys` 租户。

   连接示例如下，连接数据库时请以实际环境为准。

   ```shell
   obclient -h10.xx.xx.xx -P2883 -uroot@sys -p***** -A
   ```

2. 查询 `oceanbase.DBA_OB_SERVERS` 视图，获取集群中的所有节点信息。

   ```sql
   obclient [test]> SELECT * FROM oceanbase.DBA_OB_SERVERS;
   +-------------+----------+----+--------------+----------+-----------------+--------+----------------------------+-----------+-----------------------+----------------------------+----------------------------+-------------------------------------------------------------------------------------------+
   | SVR_IP      | SVR_PORT | ID | ZONE         | SQL_PORT | WITH_ROOTSERVER | STATUS | START_SERVICE_TIME         | STOP_TIME | BLOCK_MIGRATE_IN_TIME | CREATE_TIME                | MODIFY_TIME                | BUILD_VERSION                                                                             |
   +-------------+----------+----+--------------+----------+-----------------+--------+----------------------------+-----------+-----------------------+----------------------------+----------------------------+-------------------------------------------------------------------------------------------+
   | xx.xx.xx.158 |     2882 |  3 | sa128_obv4_3 |     2881 | NO              | ACTIVE | 2022-11-14 12:28:49.796499 | NULL      | NULL                  | 2022-11-03 15:37:09.530894 | 2022-11-14 12:28:50.795464 | 4.0.0.0_100000302022111120-7cef93737c5cd03331b5f29130c6e80ac950d33b(Nov 11 2022 20:38:33) |
   | xx.xx.xx.43   |     2882 |  1 | sa128_obv4_1 |     2881 | NO              | ACTIVE | 2022-11-14 11:57:31.763941 | NULL      | NULL                  | 2022-11-03 15:37:08.990683 | 2022-11-14 11:57:32.762787 | 4.0.0.0_100000302022111120-7cef93737c5cd03331b5f29130c6e80ac950d33b(Nov 11 2022 20:38:33) |
   | xx.xx.xx.106  |     2882 |  2 | sa128_obv4_2 |     2881 | YES             | ACTIVE | 2022-11-14 11:35:34.223948 | NULL      | NULL                  | 2022-11-03 15:37:09.490511 | 2022-11-14 11:37:26.542479 | 4.0.0.0_100000302022111120-7cef93737c5cd03331b5f29130c6e80ac950d33b(Nov 11 2022 20:38:33) |
   +-------------+----------+----+--------------+----------+-----------------+--------+----------------------------+-----------+-----------------------+----------------------------+----------------------------+-------------------------------------------------------------------------------------------+
   3 rows in set
   ```

   查询结果中的相关字段说明如下：

   * `SVR_IP`：OBServer 所在的主机 IP。

   * `SVR_PORT`：OBServer 的 RPC 端口。

   * `ZONE`：OBServer 所在的 Zone。

   * `SQL_PORT`：OBServer 的 SQL 端口，可以使用该端口通过直连方式连接 OceanBase 数据库。

   * `WITH_ROOTSERVER`：该 OBServer 是否为集群 RS（RootServer），RS 负责处理集群管理操作。

   * `STATUS`：OBServer 节点的状态。
  
      * `ACTIVE`：表示该 OBServer 为可用状态。
  
      * `INACTIVE`：表示该 OBServer 为宕机状态。

      * `DELETING`：表示该 OBServer 正在被删除。

   * `STOP_TIME`：大于 `0` 则表示该机器被 RS 标记为隔离状态，无法承载流量。

   * `START_SERVICE_TIME`：节点开始服务的时间。OBServer 重启后，需要回放 Clog，回放完成后再提供服务。

   * `BLOCK_MIGRATE_IN_TIME`：禁止副本迁入的时间，通常磁盘满后会禁止副本迁入。

   * `BUILD_VERSION`：OceanBase 数据库软件的版本号。

## 相关文档

更多节点相关的运维操作，请参见以下信息：

* [重启节点](3.restart-a-node.md)

* [添加节点](4.add-a-node.md)

* [删除节点](5.delete-a-node.md)

* [隔离节点](6.isolation-a-node.md)

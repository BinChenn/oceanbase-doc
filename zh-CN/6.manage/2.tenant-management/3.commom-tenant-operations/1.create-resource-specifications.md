# 创建资源规格

本文介绍如何通过 SQL 语句创建资源规格。

## 背景信息

资源规格是指资源单元的规格，资源单元是资源调度使用的基本单位，在不同场景中，会用到不同大小的资源单元，就需要通过 `CREATE RESOURCE UNIT` 来创建合适的资源规格，从而可以调度使用相应大小的资源单元。

## 操作步骤

1. 使用 root 用户登录到数据库的 sys 租户。

    ```sql
    $obclient -h172.30.xxx.xxx -P2883 -uroot@sys#cluster -pxxxx -A
    ```

2. 进入 OceanBase 数据库。

    ```sql
    obclient> USE oceanbase;
    ```

3. 通过 `DBA_OB_UNIT_CONFIGS` 视图，获取当前租户中的资源配置信息。该视图的详细说明，请参见 [DBA_OB_UNIT_CONFIGS](../../../7.reference/5.system-reference/4.system-view-of-mysql-mode/2.dictionary-view-of-mysql-mode/60.oceanbase-dba_ob_unit_configs-of-mysql-mode.md)。

    ```sql
    obclient> SELECT * FROM DBA_OB_UNIT_CONFIGS;
    ```

4. 通过 `CREATE RESOURCE UNIT` 语句，创建名为 `S1_unit_config` 的资源规格。该语句的详细说明，请参见 [CREATE RESOURCE UNIT](../../../7.reference/4.development-guide-refactoring/1.sql-syntax/1.system-tenants/7.create-resource-unit.md)。

    ```sql
    obclient> CREATE RESOURCE UNIT S1_unit_config
        MAX_CPU = 1, MIN_CPU = 1,
        MEMORY_SIZE = '2G',
        LOG_DISK_SIZE = '6G',
        MAX_IOPS = 10000, MIN_IOPS = 10000, IOPS_WEIGHT=1;
    ```

5. 再通过 `DBA_OB_UNIT_CONFIGS` 视图，确认创建成功。

    ```sql
    obclient> SELECT * FROM DBA_OB_UNIT_CONFIGS where name = 'S1_unit_config';
    +----------------+----------------+----------------------------+----------------------------+---------+---------+-------------+---------------+----------+----------+-------------+
    | UNIT_CONFIG_ID | NAME           | CREATE_TIME                | MODIFY_TIME                | MAX_CPU | MIN_CPU | MEMORY_SIZE | LOG_DISK_SIZE | MAX_IOPS | MIN_IOPS | IOPS_WEIGHT |
    +----------------+----------------+----------------------------+----------------------------+---------+---------+-------------+---------------+----------+----------+-------------+
    |           1016 | S1_unit_config | 2023-01-03 14:15:17.727584 | 2023-01-03 17:04:35.667314 |       1 |       1 |  2147483648 |    6442450944 |    10000 |    10000 |           1 |
    +----------------+----------------+----------------------------+----------------------------+---------+---------+-------------+---------------+----------+----------+-------------+
    1 row in set
    ```

## 更多信息

创建资源单元后，管理员就可以在创建资源池时指定资源单元，并最终分配给相应的租户，详细操作，请参见：

* [创建资源池](2.create-resource-pool.md)

* [创建租户](3.create-tenant.md)

* [修改资源单元的配置](5.modify-resource-specifications.md)

* [删除资源单元](12.delete-resource-specification.md)

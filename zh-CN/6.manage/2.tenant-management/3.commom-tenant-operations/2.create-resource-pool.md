# 创建资源池

本文介绍如何通过 SQL 语句创建资源池。

## 背景信息

在创建新租户时，如果当前没有可用的资源池，可以通过 `CREATE RESOURCE POOL` 语句创建资源池，创建资源池时需要指定其资源规格。

## 前提条件

在使用 SQL 语句创建资源池前，请确认已创建了待使用的资源单元规格，具体操作,请参见 [创建资源规格](1.create-resource-specifications.md)。

## 操作步骤

1. 使用 root 用户登录到数据库的 sys 租户。

    ```sql
    $obclient -h172.30.xxx.xxx -P2883 -uroot@sys#cluster -pxxxx -A
    ```

2. 进入 OceanBase 数据库。

    ```sql
    obclient> USE oceanbase;
    ```

3. 通过 `DBA_OB_RESOURCE_POOLS` 视图，获取当前租户中的资源配置信息。该视图的详细说明，请参见 [DBA_OB_RESOURCE_POOLS](../../../7.reference/5.system-reference/4.system-view-of-mysql-mode/2.dictionary-view-of-mysql-mode/47.oceanbase-dba_ob_resource_pools-of-mysql-mode.md)。

    ```sql
    obclient> select * from DBA_OB_RESOURCE_POOLS;
    ```

4. 通过 `CREATE RESOURCE POOL` 语句，创建名为 mq_pool_01 的资源池。该语句的详细说明，请参见 [CREATE RESOURCE POOL](../../../7.reference/4.development-guide-refactoring/1.sql-syntax/1.system-tenants/6.create-resource-pool.md)。

    ```sql
    obclient> CREATE RESOURCE POOL mq_pool_01 
        UNIT='S1_unit_config', 
        UNIT_NUM=1, 
        ZONE_LIST=('zone1','zone2'); 
    ```

5. 再通过 `DBA_OB_RESOURCE_POOLS` 视图，确认创建成功。

    ```sql
    obclient> SELECT * FROM DBA_OB_RESOURCE_POOLS where name = 'mq_pool_01';
    +------------------+------------+-----------+----------------------------+----------------------------+------------+----------------+-------------+--------------+
    | RESOURCE_POOL_ID | NAME       | TENANT_ID | CREATE_TIME                | MODIFY_TIME                | UNIT_COUNT | UNIT_CONFIG_ID | ZONE_LIST   | REPLICA_TYPE |
    +------------------+------------+-----------+----------------------------+----------------------------+------------+----------------+-------------+--------------+
    |             1016 | mq_pool_01 |      NULL | 2023-01-03 17:07:15.617494 | 2023-01-03 17:07:15.617494 |          1 |           1016 | zone1;zone2 | FULL         |
    +------------------+------------+-----------+----------------------------+----------------------------+------------+----------------+-------------+--------------+
    1 row in set
    ```

## 更多信息

资源池创建后，您可以根据业务需要，将资源池分配给租户，也可以修改资源池皮属性。详细操作，请参见：

* [创建租户](3.create-tenant.md)

* [修改资源池属性](6.modify-resource-pool-properties.md)

* [删除资源池](11.delete-resource-pool.md)

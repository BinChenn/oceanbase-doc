# 创建租户

本文介绍如何通过 SQL 语句创建租户。

## 背景信息

OceanBase 数据库支持两种类型的租户：MySQL 模式和 Oracle 模式。可以通过 `CREATE TENANT` 命令创建租户。

创建租户需要有可用的资源池，创建资源池需要有相应的资源规格，所以创建租户的一般顺序为：资源规格 > 资源池 > 租户。

## 前提条件

确保有可用的资源池，相关操作，请参见 [创建资源池](2.create-resource-pool.md)。

## 操作步骤

1. 使用 root 用户登录到数据库的 sys 租户。

    ```sql
    $obclient -h172.30.xxx.xxx -P2883 -uroot@sys#cluster -pxxxx -A
    ```

2. 进入 OceanBase 数据库。

    ```sql
    obclient> USE oceanbase;
    ```

3. 通过 `DBA_OB_TENANTS` 视图，查看所有的租户信息。该视图的详细说明，请参见 [DBA_OB_TENANTS](../../../7.reference/5.system-reference/4.system-view-of-mysql-mode/2.dictionary-view-of-mysql-mode/58.oceanbase-dba_ob_tenants-of-mysql-mode.md)

    ```sql
    obclient> select * from DBA_OB_TENANTS;
    ```

4. 通过以下语句，创建了一个名为 mq_t1 的租户，副本数为 2，资源池指定为 mq_pool_01，primary zone 为 zone1。该语句的详细说明，请参见 [CREATE TENANT](../../../7.reference/4.development-guide-refactoring/1.sql-syntax/1.system-tenants/8.create-tenant.md)。

    ```sql
    obclient> create tenant if not exists mq_t1 
        replica_num=2, 
        primary_zone='zone1', 
        resource_pool_list=('mq_pool_01');
    ```

5. 再通过 `DBA_OB_TENANTS` 视图，确认创建成功。

    ```sql
    obclient> SELECT * FROM DBA_OB_TENANTS where tenant_name = 'mq_t1';
    +-----------+-------------+-------------+----------------------------+----------------------------+--------------+------------------------------+-------------------+--------------------+--------+---------------+--------+
    | TENANT_ID | TENANT_NAME | TENANT_TYPE | CREATE_TIME                | MODIFY_TIME                | PRIMARY_ZONE | LOCALITY                     | PREVIOUS_LOCALITY | COMPATIBILITY_MODE | STATUS | IN_RECYCLEBIN | LOCKED |
    +-----------+-------------+-------------+----------------------------+----------------------------+--------------+------------------------------+-------------------+--------------------+--------+---------------+--------+
    |      1014 | mq_t1       | USER        | 2023-01-06 15:39:57.422331 | 2023-01-06 15:40:17.716355 | zone1;zone2  | FULL{1}@zone1, FULL{1}@zone2 | NULL              | MYSQL              | NORMAL | NO            | NO     |
    +-----------+-------------+-------------+----------------------------+----------------------------+--------------+------------------------------+-------------------+--------------------+--------+---------------+--------+
    1 row in set
    ```

## 更多信息

资源池创建后，您可以根据业务需要，将资源池分配给租户，也可以修改资源池皮属性。详细操作，请参见：

* [查看租户和资源信息](4.view-tenant-information.md)

* [修改租户属性](7.modify-tenant-properties.md)

* [删除租户](9.delete-tenant.md)

* [恢复租户](10.restore-tenant.md)
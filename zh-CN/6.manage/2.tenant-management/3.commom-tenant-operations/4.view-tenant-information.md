# 查看租户和资源信息

本文介绍管理租户过程种常见的一些视图。

## 查看所有资源规格信息

通过 DBA_OB_UNIT_CONFIGS 视图，可以查看所有资源规格信息，示例如下：

```sql
obclient [oceanbase]> SELECT * FROM DBA_OB_UNIT_CONFIGS;
+----------------+-------------------------------+----------------------------+----------------------------+---------+---------+-------------+---------------+----------+----------+-------------+
| UNIT_CONFIG_ID | NAME                          | CREATE_TIME                | MODIFY_TIME                | MAX_CPU | MIN_CPU | MEMORY_SIZE | LOG_DISK_SIZE | MAX_IOPS | MIN_IOPS | IOPS_WEIGHT |
+----------------+-------------------------------+----------------------------+----------------------------+---------+---------+-------------+---------------+----------+----------+-------------+
|              1 | sys_unit_config               | 2022-12-20 17:50:17.035504 | 2022-12-20 17:50:17.035504 |       1 |       1 | 14495514624 |   14495514624 |    10000 |    10000 |           1 |
|           1001 | config_mysql001_zone1_S1_okz  | 2022-12-20 18:04:31.547715 | 2022-12-20 18:04:31.547715 |     1.5 |     1.5 |  6442450944 |   19327352832 |    15000 |    15000 |           1 |
|           1002 | config_mysql001_zone2_S1_pme  | 2022-12-20 18:04:31.561335 | 2022-12-20 18:04:31.561335 |     1.5 |     1.5 |  6442450944 |   19327352832 |    15000 |    15000 |           1 |
|           1003 | config_mysql001_zone3_S1_jsu  | 2022-12-20 18:04:31.564510 | 2022-12-20 18:04:31.564510 |     1.5 |     1.5 |  6442450944 |   19327352832 |    15000 |    15000 |           1 |
|           1010 | config_oracle002_zone2_S1_zhb | 2022-12-26 17:55:57.240370 | 2022-12-26 17:55:57.240370 |     1.5 |     1.5 |  6442450944 |   19327352832 |    15000 |    15000 |           1 |
|           1011 | config_oracle002_zone1_S1_jfv | 2022-12-26 17:55:57.244539 | 2022-12-26 17:55:57.244539 |     1.5 |     1.5 |  6442450944 |   19327352832 |    15000 |    15000 |           1 |
|           1012 | config_oracle002_zone3_S1_atj | 2022-12-26 17:55:57.263536 | 2022-12-26 17:55:57.263536 |     1.5 |     1.5 |  6442450944 |   19327352832 |    15000 |    15000 |           1 |
|           1013 | config_oracle001_zone3_S1_exu | 2022-12-26 18:28:37.969047 | 2022-12-26 18:28:37.969047 |     1.5 |     1.5 |  6442450944 |   19327352832 |    15000 |    15000 |           1 |
|           1014 | config_oracle001_zone2_S1_hli | 2022-12-26 18:28:37.972194 | 2022-12-26 18:28:37.972194 |     1.5 |     1.5 |  6442450944 |   19327352832 |    15000 |    15000 |           1 |
|           1015 | config_oracle001_zone1_S1_owy | 2022-12-26 18:28:37.976446 | 2022-12-26 18:28:37.976446 |     1.5 |     1.5 |  6442450944 |   19327352832 |    15000 |    15000 |           1 |
+----------------+-------------------------------+----------------------------+----------------------------+---------+---------+-------------+---------------+----------+----------+-------------+
12 rows in set
```

视图参数详细说明，请参见 [DBA_OB_UNIT_CONFIGS](../../../7.reference/5.system-reference/4.system-view-of-mysql-mode/2.dictionary-view-of-mysql-mode/60.oceanbase-dba_ob_unit_configs-of-mysql-mode.md)。

## 查看所有的资源池信息

通过 DBA_OB_RESOURCE_POOLS 视图，可以查看所有资源规格信息，示例如下：

```sql
obclient [oceanbase]> SELECT * FROM DBA_OB_RESOURCE_POOLS;
+------------------+--------------------------+-----------+----------------------------+----------------------------+------------+----------------+-------------------+--------------+
| RESOURCE_POOL_ID | NAME                     | TENANT_ID | CREATE_TIME                | MODIFY_TIME                | UNIT_COUNT | UNIT_CONFIG_ID | ZONE_LIST         | REPLICA_TYPE |
+------------------+--------------------------+-----------+----------------------------+----------------------------+------------+----------------+-------------------+--------------+
|                1 | sys_pool                 |         1 | 2022-12-20 17:50:17.038641 | 2022-12-20 17:50:17.045453 |          1 |              1 | zone1;zone2;zone3 | FULL         |
|             1001 | pool_mysql001_zone3_jsu  |      1002 | 2022-12-20 18:04:31.607227 | 2022-12-20 18:04:31.692836 |          1 |           1003 | zone3             | FULL         |
|             1002 | pool_mysql001_zone1_okz  |      1002 | 2022-12-20 18:04:31.617087 | 2022-12-20 18:04:31.691827 |          1 |           1001 | zone1             | FULL         |
|             1003 | pool_mysql001_zone2_pme  |      1002 | 2022-12-20 18:04:31.621327 | 2022-12-20 18:04:31.692836 |          1 |           1002 | zone2             | FULL         |
|             1010 | pool_oracle002_zone3_atj |      1008 | 2022-12-26 17:55:57.293076 | 2022-12-26 17:55:57.360281 |          1 |           1012 | zone3             | FULL         |
|             1011 | pool_oracle002_zone2_zhb |      1008 | 2022-12-26 17:55:57.298336 | 2022-12-26 17:55:57.360281 |          1 |           1010 | zone2             | FULL         |
|             1012 | pool_oracle002_zone1_jfv |      1008 | 2022-12-26 17:55:57.304659 | 2022-12-26 17:55:57.359224 |          1 |           1011 | zone1             | FULL         |
|             1013 | pool_oracle001_zone3_exu |      1010 | 2022-12-26 18:28:37.979539 | 2022-12-26 18:28:38.059505 |          1 |           1013 | zone3             | FULL         |
|             1014 | pool_oracle001_zone1_owy |      1010 | 2022-12-26 18:28:37.988964 | 2022-12-26 18:28:38.058440 |          1 |           1015 | zone1             | FULL         |
|             1015 | pool_oracle001_zone2_hli |      1010 | 2022-12-26 18:28:37.994241 | 2022-12-26 18:28:38.059505 |          1 |           1014 | zone2             | FULL         |
|             1018 | mq_pool_01               |      1014 | 2023-01-06 14:57:04.745885 | 2023-01-06 15:39:57.424443 |          1 |           1018 | zone1;zone2       | FULL         |
+------------------+--------------------------+-----------+----------------------------+----------------------------+------------+----------------+-------------------+--------------+
11 rows in set
```

视图参数详细说明，请参见 [DBA_OB_RESOURCE_POOLS](../../../7.reference/5.system-reference/4.system-view-of-mysql-mode/2.dictionary-view-of-mysql-mode/47.oceanbase-dba_ob_resource_pools-of-mysql-mode.md)。

## 查看所有的租户信息

通过 DBA_OB_TENANTS 视图，可以查看所有资源规格信息，示例如下：

```sql
obclient [oceanbase]> SELECT * FROM DBA_OB_TENANTS;
+-----------+-------------+-------------+----------------------------+----------------------------+-------------------+---------------------------------------------+-------------------+--------------------+--------+---------------+--------+
| TENANT_ID | TENANT_NAME | TENANT_TYPE | CREATE_TIME                | MODIFY_TIME                | PRIMARY_ZONE      | LOCALITY                                    | PREVIOUS_LOCALITY | COMPATIBILITY_MODE | STATUS | IN_RECYCLEBIN | LOCKED |
+-----------+-------------+-------------+----------------------------+----------------------------+-------------------+---------------------------------------------+-------------------+--------------------+--------+---------------+--------+
|         1 | sys         | SYS         | 2022-12-20 17:50:17.056814 | 2022-12-20 17:51:16.162367 | zone1;zone2;zone3 | FULL{1}@zone1, FULL{1}@zone2, FULL{1}@zone3 | NULL              | MYSQL              | NORMAL | NO            | NO     |
|      1001 | META$1002   | META        | 2022-12-20 18:04:31.683655 | 2023-01-06 14:40:57.872880 | zone1;zone2       | FULL{1}@zone1, FULL{1}@zone2, FULL{1}@zone3 | NULL              | MYSQL              | NORMAL | NO            | NO     |
|      1002 | mysql001    | USER        | 2022-12-20 18:04:31.689731 | 2023-01-06 14:40:57.872880 | zone1;zone2       | FULL{1}@zone1, FULL{1}@zone2, FULL{1}@zone3 | NULL              | MYSQL              | NORMAL | NO            | NO     |
|      1007 | META$1008   | META        | 2022-12-26 17:55:57.356089 | 2022-12-26 17:56:20.452948 | zone1;zone2;zone3 | FULL{1}@zone1, FULL{1}@zone2, FULL{1}@zone3 | NULL              | MYSQL              | NORMAL | NO            | NO     |
|      1008 | oracle002   | USER        | 2022-12-26 17:55:57.357098 | 2022-12-26 17:56:20.490809 | zone1;zone2;zone3 | FULL{1}@zone1, FULL{1}@zone2, FULL{1}@zone3 | NULL              | ORACLE             | NORMAL | NO            | NO     |
|      1009 | META$1010   | META        | 2022-12-26 18:28:38.055294 | 2022-12-26 18:29:01.184333 | zone1;zone2;zone3 | FULL{1}@zone1, FULL{1}@zone2, FULL{1}@zone3 | NULL              | MYSQL              | NORMAL | NO            | NO     |
|      1010 | oracle001   | USER        | 2022-12-26 18:28:38.056350 | 2022-12-26 18:29:01.223246 | zone1;zone2;zone3 | FULL{1}@zone1, FULL{1}@zone2, FULL{1}@zone3 | NULL              | ORACLE             | NORMAL | NO            | NO     |
|      1013 | META$1014   | META        | 2023-01-06 15:39:57.421277 | 2023-01-06 15:40:17.668157 | zone1;zone2       | FULL{1}@zone1, FULL{1}@zone2                | NULL              | MYSQL              | NORMAL | NO            | NO     |
|      1014 | mq_t1       | USER        | 2023-01-06 15:39:57.422331 | 2023-01-06 15:40:17.716355 | zone1;zone2       | FULL{1}@zone1, FULL{1}@zone2                | NULL              | MYSQL              | NORMAL | NO            | NO     |
+-----------+-------------+-------------+----------------------------+----------------------------+-------------------+---------------------------------------------+-------------------+--------------------+--------+---------------+--------+
9 rows in set
```

视图参数详细说明，请参见 [DBA_OB_TENANTS](../../../7.reference/5.system-reference/4.system-view-of-mysql-mode/2.dictionary-view-of-mysql-mode/58.oceanbase-dba_ob_tenants-of-mysql-mode.md)。

## 查看所有节点的 Unit 信息

通过 GV$OB_UNITS 视图，可以查看所有资源规格信息，示例如下：

```sql
obclient [oceanbase]> SELECT * FROM GV$OB_UNITS;
+----------------+----------+---------+-----------+-------+---------+---------+-------------+----------+----------+-------------+---------------+-----------------+------------------+--------+----------------------------+
| SVR_IP         | SVR_PORT | UNIT_ID | TENANT_ID | ZONE  | MAX_CPU | MIN_CPU | MEMORY_SIZE | MAX_IOPS | MIN_IOPS | IOPS_WEIGHT | LOG_DISK_SIZE | LOG_DISK_IN_USE | DATA_DISK_IN_USE | STATUS | CREATE_TIME                |
+----------------+----------+---------+-----------+-------+---------+---------+-------------+----------+----------+-------------+---------------+-----------------+------------------+--------+----------------------------+
| 172.30.135.237 |     2882 |       1 |         1 | zone1 |       1 |       1 | 14495514624 |    10000 |    10000 |           1 |   14495514624 |     11596288353 |       4760535040 | NORMAL | 2022-12-20 17:49:25.705315 |
| 172.30.135.237 |     2882 |    1002 |      1001 | zone1 |    NULL |    NULL |  1073741824 |     NULL |     NULL |        NULL |    1932735283 |      1529526663 |       5922357248 | NORMAL | 2022-12-20 18:04:31.692599 |
| 172.30.135.237 |     2882 |    1002 |      1002 | zone1 |     1.5 |     1.5 |  5368709120 |    15000 |    15000 |           1 |   17394617549 |      3911676324 |        698351616 | NORMAL | 2022-12-20 18:04:31.692599 |
| 172.30.135.237 |     2882 |    1012 |      1007 | zone1 |    NULL |    NULL |  1073741824 |     NULL |     NULL |        NULL |    1932735283 |      1515073549 |       3999268864 | NORMAL | 2022-12-26 17:55:57.360022 |
| 172.30.135.237 |     2882 |    1012 |      1008 | zone1 |     1.5 |     1.5 |  5368709120 |    15000 |    15000 |           1 |   17394617549 |      2592084538 |        452984832 | NORMAL | 2022-12-26 17:55:57.360022 |
| 172.30.135.237 |     2882 |    1014 |      1009 | zone1 |    NULL |    NULL |  1073741824 |     NULL |     NULL |        NULL |    1932735283 |      1546139321 |       3986685952 | NORMAL | 2022-12-26 18:28:38.059317 |
| 172.30.135.237 |     2882 |    1014 |      1010 | zone1 |     1.5 |     1.5 |  5368709120 |    15000 |    15000 |           1 |   17394617549 |      2594215377 |        773849088 | NORMAL | 2022-12-26 18:28:38.059317 |
| 172.30.135.237 |     2882 |    1018 |      1013 | zone1 |    NULL |    NULL |  1073741824 |     NULL |     NULL |        NULL |     644245094 |       186072216 |        234881024 | NORMAL | 2023-01-06 15:39:57.425324 |
| 172.30.135.237 |     2882 |    1018 |      1014 | zone1 |       1 |       1 |  1073741824 |    10000 |    10000 |           1 |    5798205850 |       158133347 |        176160768 | NORMAL | 2023-01-06 15:39:57.425324 |
| 172.30.135.238 |     2882 |       2 |         1 | zone2 |       1 |       1 | 14495514624 |    10000 |    10000 |           1 |   14495514624 |     11596331555 |       4762632192 | NORMAL | 2022-12-20 17:49:25.705354 |
| 172.30.135.238 |     2882 |    1003 |      1001 | zone2 |    NULL |    NULL |  1073741824 |     NULL |     NULL |        NULL |    1932735283 |      1529550654 |       5930745856 | NORMAL | 2022-12-20 18:04:31.693277 |
| 172.30.135.238 |     2882 |    1003 |      1002 | zone2 |     1.5 |     1.5 |  5368709120 |    15000 |    15000 |           1 |   17394617549 |      3911679866 |        694157312 | NORMAL | 2022-12-20 18:04:31.693277 |
| 172.30.135.238 |     2882 |    1011 |      1007 | zone2 |    NULL |    NULL |  1073741824 |     NULL |     NULL |        NULL |    1932735283 |      1515099296 |       3990880256 | NORMAL | 2022-12-26 17:55:57.360810 |
| 172.30.135.238 |     2882 |    1011 |      1008 | zone2 |     1.5 |     1.5 |  5368709120 |    15000 |    15000 |           1 |   17394617549 |      2592087716 |        452984832 | NORMAL | 2022-12-26 17:55:57.360810 |
| 172.30.135.238 |     2882 |    1015 |      1009 | zone2 |    NULL |    NULL |  1073741824 |     NULL |     NULL |        NULL |    1932735283 |      1546166484 |       3986685952 | NORMAL | 2022-12-26 18:28:38.060042 |
| 172.30.135.238 |     2882 |    1015 |      1010 | zone2 |     1.5 |     1.5 |  5368709120 |    15000 |    15000 |           1 |   17394617549 |      2594218781 |        765460480 | NORMAL | 2022-12-26 18:28:38.060042 |
| 172.30.135.238 |     2882 |    1019 |      1013 | zone2 |    NULL |    NULL |  1073741824 |     NULL |     NULL |        NULL |     644245094 |       186093714 |        218103808 | NORMAL | 2023-01-06 15:39:57.425728 |
| 172.30.135.238 |     2882 |    1019 |      1014 | zone2 |       1 |       1 |  1073741824 |    10000 |    10000 |           1 |    5798205850 |       158136763 |        192937984 | NORMAL | 2023-01-06 15:39:57.425728 |
| 172.30.135.218 |     2882 |       3 |         1 | zone3 |       1 |       1 | 14495514624 |    10000 |    10000 |           1 |   14495514624 |     11596241363 |       4762632192 | NORMAL | 2022-12-20 17:49:25.705363 |
| 172.30.135.218 |     2882 |    1001 |      1001 | zone3 |    NULL |    NULL |  1073741824 |     NULL |     NULL |        NULL |    1932735283 |       388625965 |       6020923392 | NORMAL | 2022-12-20 18:04:31.693819 |
| 172.30.135.218 |     2882 |    1001 |      1002 | zone3 |     1.5 |     1.5 |  5368709120 |    15000 |    15000 |           1 |   17394617549 |       220681902 |        761266176 | NORMAL | 2022-12-20 18:04:31.693819 |
| 172.30.135.218 |     2882 |    1010 |      1007 | zone3 |    NULL |    NULL |  1073741824 |     NULL |     NULL |        NULL |    1932735283 |      1515025909 |       3995074560 | NORMAL | 2022-12-26 17:55:57.361451 |
| 172.30.135.218 |     2882 |    1010 |      1008 | zone3 |     1.5 |     1.5 |  5368709120 |    15000 |    15000 |           1 |   17394617549 |      2592078194 |        452984832 | NORMAL | 2022-12-26 17:55:57.361451 |
| 172.30.135.218 |     2882 |    1013 |      1009 | zone3 |    NULL |    NULL |  1073741824 |     NULL |     NULL |        NULL |    1932735283 |      1546093184 |       3986685952 | NORMAL | 2022-12-26 18:28:38.060661 |
| 172.30.135.218 |     2882 |    1013 |      1010 | zone3 |     1.5 |     1.5 |  5368709120 |    15000 |    15000 |           1 |   17394617549 |      2594209277 |        773849088 | NORMAL | 2022-12-26 18:28:38.060661 |
+----------------+----------+---------+-----------+-------+---------+---------+-------------+----------+----------+-------------+---------------+-----------------+------------------+--------+----------------------------+
25 rows in set
```

视图参数详细说明，请参见 [GV$OB_UNITS](../../../7.reference/5.system-reference/4.system-view-of-mysql-mode/3.performance-view-of-mysql-mode/13.gv-ob_units-of-mysql-mode.md)。

## 查看节点的资源分配信息

通过 GV$OB_SERVERS 视图，可以查看所有资源规格信息，示例如下：

```sql
obclient [oceanbase]> SELECT * FROM GV$OB_SERVERS;
+----------------+----------+-------+----------+--------------+------------------+--------------+------------------+--------------+--------------+-------------------+-------------------+-----------------+--------------------+------------------+-------------------------+--------------+-------------------------+-----------------------+
| SVR_IP         | SVR_PORT | ZONE  | SQL_PORT | CPU_CAPACITY | CPU_CAPACITY_MAX | CPU_ASSIGNED | CPU_ASSIGNED_MAX | MEM_CAPACITY | MEM_ASSIGNED | LOG_DISK_CAPACITY | LOG_DISK_ASSIGNED | LOG_DISK_IN_USE | DATA_DISK_CAPACITY | DATA_DISK_IN_USE | DATA_DISK_HEALTH_STATUS | MEMORY_LIMIT | DATA_DISK_ABNORMAL_TIME | SSL_CERT_EXPIRED_TIME |
+----------------+----------+-------+----------+--------------+------------------+--------------+------------------+--------------+--------------+-------------------+-------------------+-----------------+--------------------+------------------+-------------------------+--------------+-------------------------+-----------------------+
| 172.30.135.237 |     2882 | zone1 |     2881 |           64 |               64 |          6.5 |              6.5 |  67645734912 |  35970351104 |      179583320064 |       78920024064 |     25971130368 |       179593805824 |      21005074432 | NORMAL                  |  85899345920 | NULL                    | NULL                  |
| 172.30.135.218 |     2882 | zone3 |     2881 |           64 |               64 |          5.5 |              5.5 |  57982058496 |  33822867456 |      179583320064 |       72477573120 |     20669530112 |       179593805824 |      20753416192 | NORMAL                  |  68719476736 | NULL                    | NULL                  |
| 172.30.135.238 |     2882 | zone2 |     2881 |           64 |               64 |          6.5 |              6.5 |  57982058496 |  35970351104 |      179583320064 |       78920024064 |     25971130368 |       179593805824 |      20994588672 | NORMAL                  |  68719476736 | NULL                    | NULL                  |
+----------------+----------+-------+----------+--------------+------------------+--------------+------------------+--------------+--------------+-------------------+-------------------+-----------------+--------------------+------------------+-------------------------+--------------+-------------------------+-----------------------+
3 rows in set
```

视图参数详细说明，请参见 [GV$OB_SERVERS](../../../7.reference/5.system-reference/4.system-view-of-mysql-mode/3.performance-view-of-mysql-mode/9.gv-ob_servers-of-mysql-mode.md)。
# Tablet（分片）

OceanBase 数据库引入了 Tablet 概念来表示实际的数据存储对象。

它具备存储数据的能力，支持在机器之间迁移，是数据块迁移的最小单位。

Tablet 与分区一一对应，分区作为用户创建的逻辑对象，而 Tablet 是实际承载数据的物理存储单位，単分区表会创建一个 Tablet，多分区表会为每个分区创建一个 Tablet。

索引表的每个分区也会对应一个 Tablet，包括局部索引表和全局索引表。特别地，局部索引表的 Tablet 与主表 Tablet 会强制绑定，保证存储在一台机器上。

通过引入 Tablet 的概念，建立了分区到 Tablet 的映射。

## 查看 Tablet 的基本信息

所有的分片对象的基本信息可通过视图 `oceanbase.DBA_OB_TABLET_REPLICAS` 查看。

有关 `oceanbase.DBA_OB_TABLET_REPLICAS` 视图的详细信息，参见 [oceanbase.DBA_OB_TABLET_REPLICAS](../../../7.reference/5.system-reference/4.system-view-of-mysql-mode/2.dictionary-view-of-mysql-mode/55.oceanbase-dba_ob_tablet_replicas-of-mysql-mode.md)

示例如下：

```sql
obclient> SELECT * FROM oceanbase.DBA_OB_TABLET_REPLICAS LIMIT 10;
+----------------------------+----------------------------+-----------+---------------+----------+-------+---------------------+-----------+---------------+
| CREATE_TIME                | MODIFY_TIME                | TABLET_ID | SVR_IP        | SVR_PORT | LS_ID | COMPACTION_SCN      | DATA_SIZE | REQUIRED_SIZE |
+----------------------------+----------------------------+-----------+---------------+----------+-------+---------------------+-----------+---------------+
| 2022-11-03 15:37:10.645565 | 2022-12-27 02:42:10.968241 |         1 | xx.xx.xx.158  |     2882 |     1 | 1672077602208198974 |     20080 |       4194304 |
| 2022-11-03 15:37:10.570805 | 2022-12-27 02:55:28.781080 |         1 | xx.xx.xx.43   |     2882 |     1 | 1672077602208198974 |     20080 |       4194304 |
| 2022-11-03 15:37:10.655016 | 2022-12-27 02:46:43.059910 |         1 | xx.xx.xx.106  |     2882 |     1 | 1672077602208198974 |     20080 |       4194304 |
| 2022-11-03 15:37:09.110206 | 2022-12-27 02:00:15.763159 |         3 | xx.xx.xx.158  |     2882 |     1 | 1672077602208198974 |    295704 |       6291456 |
| 2022-11-03 15:37:09.008086 | 2022-12-27 02:00:18.391777 |         3 | xx.xx.xx.43   |     2882 |     1 | 1672077602208198974 |    295704 |       6291456 |
| 2022-11-03 15:37:09.102878 | 2022-12-27 02:00:21.497639 |         3 | xx.xx.xx.106  |     2882 |     1 | 1672077602208198974 |    295704 |       6291456 |
| 2022-11-03 15:37:09.110006 | 2022-12-27 02:00:16.908197 |         4 | xx.xx.xx.158  |     2882 |     1 | 1672077602208198974 |    159731 |       6291456 |
| 2022-11-03 15:37:09.009454 | 2022-12-27 02:00:19.303796 |         4 | xx.xx.xx.43   |     2882 |     1 | 1672077602208198974 |    159731 |       6291456 |
| 2022-11-03 15:37:09.103255 | 2022-12-27 02:00:22.708653 |         4 | xx.xx.xx.106  |     2882 |     1 | 1672077602208198974 |    159731 |       6291456 |
| 2022-11-03 15:37:09.110094 | 2022-12-27 02:42:10.968241 |         5 | xx.xx.xx.158  |     2882 |     1 | 1672077602208198974 |    153089 |       4194304 |
+----------------------------+----------------------------+-----------+---------------+----------+-------+---------------------+-----------+---------------+
10 rows in set 
```

其中：

* TABLET_ID 是 Tablet 的唯一标识，在一个租户内 TabletID 唯一。

* DATA_SIZE 是数据实际大小，REQUIRED_SIZE 是数据分配空间大小。由于数据存储以宏块（2MB）为最小单位，所以 `REQUIRED_SIZE >= DATA_SIZE`。

# Unit Group（资源组）

OceanBase 4.0 开始在租户资源管理上增加了限制，要求同一个租户所有 Zone 的 Unit 个数相同。

系统为每个 Zone 的 Unit 进行了编号，相同编号的 Unit 组成一个 Unit Group。

## 注意事项

* 每个 Unit Group 分配集群唯一ID。

* Unit Group 内所有 Unit 上的数据分布相同，一个日志流只属于某一个 Unit Group，它的副本应该只分布在该 Unit Group 的 Unit 上。本质上，Unit Group 框定了一组数据，这也就要求每个 Zone 的服务能力相同。

* 不再支持按 Zone 个性化配置租户的 Unit 个数，只能按照 Unit Group 维度整体调整，比如需要为租户水平扩容资源，调大 Unit 个数，只能所有 Zone 统一扩容；相应的，租户缩容的场景，只能按 Unit Group 整体删除 Unit。通过 Unit Group 机制，保证了不同 Zone 上的数据分布是同构的。

## 查看 Unit Group 信息

所有的 Unit，及其所属 Unit Group 可通过视图 `oceanbase.DBA_OB_UNITS` 查询。

有关 `oceanbase.DBA_OB_UNITS` 视图的详细信息，参见 [oceanbase.DBA_OB_UNITS](../../../7.reference/5.system-reference/4.system-view-of-mysql-mode/2.dictionary-view-of-mysql-mode/61.oceanbase-dba_ob_units-of-mysql-mode.md)。

示例如下：

```shell
obcllient> SELECT UNIT_ID,TENANT_ID,UNIT_GROUP_ID,ZONE,SVR_IP,SVR_PORT FROM DBA_OB_UNITS WHERE TENANT_ID = 1004;
+---------+-----------+---------------+--------------+------------+----------+
| UNIT_ID | TENANT_ID | UNIT_GROUP_ID | ZONE         | SVR_IP     | SVR_PORT |
+---------+-----------+---------------+--------------+------------+----------+
|    1004 |      1004 |          1003 | sa128_obv4_1 | 6.3.27.47  |     2882 |
|    1005 |      1004 |          1003 | sa128_obv4_2 | 6.0.132.81 |     2882 |
|    1006 |      1004 |          1003 | sa128_obv4_3 | 6.0.187.19 |     2882 |
+---------+-----------+---------------+--------------+------------+----------+
3 rows in set (0.04 sec)
```

# 日志流相关概述

日志流代表每个 Unit Group 框定的一组数据，包括若干 Tablet 和有序的 RedoLog 日志流。

通过 Paxos 协议实现了多副本日志同步，保证副本间数据的一致性，从而实现了数据的高可用。

日志流也是事务的提交单位，事务修改在单个日志流内完成时可以采用一阶段原子提交；事务修改跨多个日志流时，采用 OceanBase 优化的两阶段提交协议完成原子提交，日志流是分布式事务的参与者。

## 原理介绍

* 通过设置租户的 Unit Number 和 Primary Zone ， 定义了一组承载业务流量的 Unit 集合，其个数为两者个数之乘积。每个 Unit 放置于一个节点上，从而可以方便的实现租户容量的水平扩展。

* 系统为每个 Zone 的 Unit 进行编号，相同编号的 Unit 组成一个 Unit Group。Unit Group 内所有 Unit 上的数据分布相同，即每个 Unit Group 框定了一组数据。

* 分区是用户创建的逻辑对象，Tablet 与其一一对应，是实际承载数据的物理存储单位。

* Unit Group 与日志流组一一对应，在每个日志流组中，日志流的个数由  Primary Zone 的 Zone 个数决定。从而 Primary Zone 的 Zone 列表中的每个 Zone 都可以分布着日志流组中一个日志流的 Leader。

![1](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/observer-enterprise/V4.0.0/easy-of-use/manage/replica-management/replica-fine-granularity/replica-fine-grained-concept.png)

## 相关文档

更多阅读请参见以下文档

* [Partition（分区）](2.partition.md)

* [Tablet（分片）](3.tablet.md)

* [Log Stream（日志流）](4.log-stream.md)

* [Unit Group（资源组）](5.unit-group.md)

* [LS Group（日志流组）](6.ls-group.md)

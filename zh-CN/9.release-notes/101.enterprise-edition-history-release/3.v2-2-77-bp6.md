V2.2.77-BP6 
================================
#docslug#/oceanbase-database/oceanbase-database/V4.0.0/v2-2-77-bp6


版本信息 
-------------------------



|  类目  |       描述        |
|------|-----------------|
| 版本号  | V2.2.77-BP6     |
| 前置版本 | V2.2.76         |
| 发布时间 | 2021 年 8 月 20 日 |



适用版本 
-------------------------

支持从 V2.2.50、V2.2.51、V2.2.52、V2.2.60、V2.2.70、V2.2.71、V2.2.72、V2.2.73、V2.2.74、V2.2.75 和 2.2.76 版本升级到本版本。

修复的问题 
--------------------------

* 修复了 Oracle 兼容模式下，select fetch union select fetch 导致的 observer crash 的问题。

  

* 修复了备份的备份在失败的情况下备份 set 被标记删除的问题。

  

* 修复了分布式执行计划场景下内存申请失败可能引起的 observer crash 的问题。

  

* 修复了执行备份恢复的恢复租户动作时，如果恢复租户存在的情况下采用 drop 掉存在的租户进行恢复。

  

* 修复了 PX 场景下，租户级别默认超时时间很长的情况下 kill session 需要等待很久才返回的问题。

  

* 修复了 clog 开启压缩功能后，有小概率触发 observer 进程启动失败的问题。

  

* 修复了中间结果集落盘过程 hash join 报错可能导致后续落盘中建结果集读取过程造成的 observer crash 的问题。

  

* 修复了在开启 security audit 并且高并发的场景下可能导致死锁的问题。

  




版本使用限制 
---------------------------

* PL debug 功能仅限 x86 平台使用，ARM 平台上不推荐使用。

  

* MySQL 模式下当 PL 里包含多条 SQL 时可能引起正确性问题。

  

* 主备库升级目前仅支持最大性能模式下升级，如果升级之前是最大保护模式或者最大可用模式，需要先降级为最大性能模式再执行集群升级。

  

* 使用了国密的 V2.2.77 版本不能升级到 V3.1.2-20211013162404（BP4）及之前的版本。

  




